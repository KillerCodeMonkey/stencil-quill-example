var t=typeof global=="object"&&global&&global.Object===Object&&global;const e=t;var n=typeof self=="object"&&self&&self.Object===Object&&self;var i=e||n||Function("return this")();const s=i;var r=s.Symbol;const o=r;var l=Object.prototype;var u=l.hasOwnProperty;var c=l.toString;var a=o?o.toStringTag:undefined;function h(t){var e=u.call(t,a),n=t[a];try{t[a]=undefined;var i=true}catch(t){}var s=c.call(t);if(i){if(e){t[a]=n}else{delete t[a]}}return s}var f=Object.prototype;var d=f.toString;function v(t){return d.call(t)}var b="[object Null]",p="[object Undefined]";var y=o?o.toStringTag:undefined;function m(t){if(t==null){return t===undefined?p:b}return y&&y in Object(t)?h(t):v(t)}function w(t){return t!=null&&typeof t=="object"}var g=Array.isArray;const x=g;function k(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function j(t){return t}var A="[object AsyncFunction]",q="[object Function]",O="[object GeneratorFunction]",M="[object Proxy]";function E(t){if(!k(t)){return false}var e=m(t);return e==q||e==O||e==A||e==M}var T=s["__core-js_shared__"];const N=T;var $=function(){var t=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function L(t){return!!$&&$ in t}var _=Function.prototype;var S=_.toString;function C(t){if(t!=null){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var I=/[\\^$.*+?()[\]{}|]/g;var B=/^\[object .+?Constructor\]$/;var R=Function.prototype,D=Object.prototype;var V=R.toString;var H=D.hasOwnProperty;var F=RegExp("^"+V.call(H).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U(t){if(!k(t)||L(t)){return false}var e=E(t)?F:B;return e.test(C(t))}function P(t,e){return t==null?undefined:t[e]}function Z(t,e){var n=P(t,e);return U(n)?n:undefined}var K=Z(s,"WeakMap");const z=K;var W=Object.create;var G=function(){function t(){}return function(e){if(!k(e)){return{}}if(W){return W(e)}t.prototype=e;var n=new t;t.prototype=undefined;return n}}();const Q=G;function Y(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function X(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i){e[n]=t[n]}return e}var J=800,tt=16;var et=Date.now;function nt(t){var e=0,n=0;return function(){var i=et(),s=tt-(i-n);n=i;if(s>0){if(++e>=J){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}function it(t){return function(){return t}}var st=function(){try{var t=Z(Object,"defineProperty");t({},"",{});return t}catch(t){}}();const rt=st;var ot=!rt?j:function(t,e){return rt(t,"toString",{configurable:true,enumerable:false,value:it(e),writable:true})};const lt=ot;var ut=nt(lt);const ct=ut;function at(t,e){var n=-1,i=t==null?0:t.length;while(++n<i){if(e(t[n],n,t)===false){break}}return t}var ht=9007199254740991;var ft=/^(?:0|[1-9]\d*)$/;function dt(t,e){var n=typeof t;e=e==null?ht:e;return!!e&&(n=="number"||n!="symbol"&&ft.test(t))&&(t>-1&&t%1==0&&t<e)}function vt(t,e,n){if(e=="__proto__"&&rt){rt(t,e,{configurable:true,enumerable:true,value:n,writable:true})}else{t[e]=n}}function bt(t,e){return t===e||t!==t&&e!==e}var pt=Object.prototype;var yt=pt.hasOwnProperty;function mt(t,e,n){var i=t[e];if(!(yt.call(t,e)&&bt(i,n))||n===undefined&&!(e in t)){vt(t,e,n)}}function wt(t,e,n,i){var s=!n;n||(n={});var r=-1,o=e.length;while(++r<o){var l=e[r];var u=i?i(n[l],t[l],l,n,t):undefined;if(u===undefined){u=t[l]}if(s){vt(n,l,u)}else{mt(n,l,u)}}return n}var gt=Math.max;function xt(t,e,n){e=gt(e===undefined?t.length-1:e,0);return function(){var i=arguments,s=-1,r=gt(i.length-e,0),o=Array(r);while(++s<r){o[s]=i[e+s]}s=-1;var l=Array(e+1);while(++s<e){l[s]=i[s]}l[e]=n(o);return Y(t,this,l)}}function kt(t,e){return ct(xt(t,e,j),t+"")}var jt=9007199254740991;function At(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jt}function qt(t){return t!=null&&At(t.length)&&!E(t)}function Ot(t,e,n){if(!k(n)){return false}var i=typeof e;if(i=="number"?qt(n)&&dt(e,n.length):i=="string"&&e in n){return bt(n[e],t)}return false}function Mt(t){return kt((function(e,n){var i=-1,s=n.length,r=s>1?n[s-1]:undefined,o=s>2?n[2]:undefined;r=t.length>3&&typeof r=="function"?(s--,r):undefined;if(o&&Ot(n[0],n[1],o)){r=s<3?undefined:r;s=1}e=Object(e);while(++i<s){var l=n[i];if(l){t(e,l,i,r)}}return e}))}var Et=Object.prototype;function Tt(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Et;return t===n}function Nt(t,e){var n=-1,i=Array(t);while(++n<t){i[n]=e(n)}return i}var $t="[object Arguments]";function Lt(t){return w(t)&&m(t)==$t}var _t=Object.prototype;var St=_t.hasOwnProperty;var Ct=_t.propertyIsEnumerable;var It=Lt(function(){return arguments}())?Lt:function(t){return w(t)&&St.call(t,"callee")&&!Ct.call(t,"callee")};const Bt=It;function Rt(){return false}var Dt=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Vt=Dt&&typeof module=="object"&&module&&!module.nodeType&&module;var Ht=Vt&&Vt.exports===Dt;var Ft=Ht?s.Buffer:undefined;var Ut=Ft?Ft.isBuffer:undefined;var Pt=Ut||Rt;const Zt=Pt;var Kt="[object Arguments]",zt="[object Array]",Wt="[object Boolean]",Gt="[object Date]",Qt="[object Error]",Yt="[object Function]",Xt="[object Map]",Jt="[object Number]",te="[object Object]",ee="[object RegExp]",ne="[object Set]",ie="[object String]",se="[object WeakMap]";var re="[object ArrayBuffer]",oe="[object DataView]",le="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",ae="[object Int16Array]",he="[object Int32Array]",fe="[object Uint8Array]",de="[object Uint8ClampedArray]",ve="[object Uint16Array]",be="[object Uint32Array]";var pe={};pe[le]=pe[ue]=pe[ce]=pe[ae]=pe[he]=pe[fe]=pe[de]=pe[ve]=pe[be]=true;pe[Kt]=pe[zt]=pe[re]=pe[Wt]=pe[oe]=pe[Gt]=pe[Qt]=pe[Yt]=pe[Xt]=pe[Jt]=pe[te]=pe[ee]=pe[ne]=pe[ie]=pe[se]=false;function ye(t){return w(t)&&At(t.length)&&!!pe[m(t)]}function me(t){return function(e){return t(e)}}var we=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var ge=we&&typeof module=="object"&&module&&!module.nodeType&&module;var xe=ge&&ge.exports===we;var ke=xe&&e.process;var je=function(){try{var t=ge&&ge.require&&ge.require("util").types;if(t){return t}return ke&&ke.binding&&ke.binding("util")}catch(t){}}();const Ae=je;var qe=Ae&&Ae.isTypedArray;var Oe=qe?me(qe):ye;const Me=Oe;var Ee=Object.prototype;var Te=Ee.hasOwnProperty;function Ne(t,e){var n=x(t),i=!n&&Bt(t),s=!n&&!i&&Zt(t),r=!n&&!i&&!s&&Me(t),o=n||i||s||r,l=o?Nt(t.length,String):[],u=l.length;for(var c in t){if((e||Te.call(t,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||dt(c,u)))){l.push(c)}}return l}function $e(t,e){return function(n){return t(e(n))}}var Le=$e(Object.keys,Object);const _e=Le;var Se=Object.prototype;var Ce=Se.hasOwnProperty;function Ie(t){if(!Tt(t)){return _e(t)}var e=[];for(var n in Object(t)){if(Ce.call(t,n)&&n!="constructor"){e.push(n)}}return e}function Be(t){return qt(t)?Ne(t):Ie(t)}function Re(t){var e=[];if(t!=null){for(var n in Object(t)){e.push(n)}}return e}var De=Object.prototype;var Ve=De.hasOwnProperty;function He(t){if(!k(t)){return Re(t)}var e=Tt(t),n=[];for(var i in t){if(!(i=="constructor"&&(e||!Ve.call(t,i)))){n.push(i)}}return n}function Fe(t){return qt(t)?Ne(t,true):He(t)}var Ue=Z(Object,"create");const Pe=Ue;function Ze(){this.__data__=Pe?Pe(null):{};this.size=0}function Ke(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var ze="__lodash_hash_undefined__";var We=Object.prototype;var Ge=We.hasOwnProperty;function Qe(t){var e=this.__data__;if(Pe){var n=e[t];return n===ze?undefined:n}return Ge.call(e,t)?e[t]:undefined}var Ye=Object.prototype;var Xe=Ye.hasOwnProperty;function Je(t){var e=this.__data__;return Pe?e[t]!==undefined:Xe.call(e,t)}var tn="__lodash_hash_undefined__";function en(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=Pe&&e===undefined?tn:e;return this}function nn(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}nn.prototype.clear=Ze;nn.prototype["delete"]=Ke;nn.prototype.get=Qe;nn.prototype.has=Je;nn.prototype.set=en;function sn(){this.__data__=[];this.size=0}function rn(t,e){var n=t.length;while(n--){if(bt(t[n][0],e)){return n}}return-1}var on=Array.prototype;var ln=on.splice;function un(t){var e=this.__data__,n=rn(e,t);if(n<0){return false}var i=e.length-1;if(n==i){e.pop()}else{ln.call(e,n,1)}--this.size;return true}function cn(t){var e=this.__data__,n=rn(e,t);return n<0?undefined:e[n][1]}function an(t){return rn(this.__data__,t)>-1}function hn(t,e){var n=this.__data__,i=rn(n,t);if(i<0){++this.size;n.push([t,e])}else{n[i][1]=e}return this}function fn(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}fn.prototype.clear=sn;fn.prototype["delete"]=un;fn.prototype.get=cn;fn.prototype.has=an;fn.prototype.set=hn;var dn=Z(s,"Map");const vn=dn;function bn(){this.size=0;this.__data__={hash:new nn,map:new(vn||fn),string:new nn}}function pn(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function yn(t,e){var n=t.__data__;return pn(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mn(t){var e=yn(this,t)["delete"](t);this.size-=e?1:0;return e}function wn(t){return yn(this,t).get(t)}function gn(t){return yn(this,t).has(t)}function xn(t,e){var n=yn(this,t),i=n.size;n.set(t,e);this.size+=n.size==i?0:1;return this}function kn(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}kn.prototype.clear=bn;kn.prototype["delete"]=mn;kn.prototype.get=wn;kn.prototype.has=gn;kn.prototype.set=xn;function jn(t,e){var n=-1,i=e.length,s=t.length;while(++n<i){t[s+n]=e[n]}return t}var An=$e(Object.getPrototypeOf,Object);const qn=An;var On="[object Object]";var Mn=Function.prototype,En=Object.prototype;var Tn=Mn.toString;var Nn=En.hasOwnProperty;var $n=Tn.call(Object);function Ln(t){if(!w(t)||m(t)!=On){return false}var e=qn(t);if(e===null){return true}var n=Nn.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Tn.call(n)==$n}function _n(){this.__data__=new fn;this.size=0}function Sn(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function Cn(t){return this.__data__.get(t)}function In(t){return this.__data__.has(t)}var Bn=200;function Rn(t,e){var n=this.__data__;if(n instanceof fn){var i=n.__data__;if(!vn||i.length<Bn-1){i.push([t,e]);this.size=++n.size;return this}n=this.__data__=new kn(i)}n.set(t,e);this.size=n.size;return this}function Dn(t){var e=this.__data__=new fn(t);this.size=e.size}Dn.prototype.clear=_n;Dn.prototype["delete"]=Sn;Dn.prototype.get=Cn;Dn.prototype.has=In;Dn.prototype.set=Rn;function Vn(t,e){return t&&wt(e,Be(e),t)}function Hn(t,e){return t&&wt(e,Fe(e),t)}var Fn=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Un=Fn&&typeof module=="object"&&module&&!module.nodeType&&module;var Pn=Un&&Un.exports===Fn;var Zn=Pn?s.Buffer:undefined,Kn=Zn?Zn.allocUnsafe:undefined;function zn(t,e){if(e){return t.slice()}var n=t.length,i=Kn?Kn(n):new t.constructor(n);t.copy(i);return i}function Wn(t,e){var n=-1,i=t==null?0:t.length,s=0,r=[];while(++n<i){var o=t[n];if(e(o,n,t)){r[s++]=o}}return r}function Gn(){return[]}var Qn=Object.prototype;var Yn=Qn.propertyIsEnumerable;var Xn=Object.getOwnPropertySymbols;var Jn=!Xn?Gn:function(t){if(t==null){return[]}t=Object(t);return Wn(Xn(t),(function(e){return Yn.call(t,e)}))};const ti=Jn;function ei(t,e){return wt(t,ti(t),e)}var ni=Object.getOwnPropertySymbols;var ii=!ni?Gn:function(t){var e=[];while(t){jn(e,ti(t));t=qn(t)}return e};const si=ii;function ri(t,e){return wt(t,si(t),e)}function oi(t,e,n){var i=e(t);return x(t)?i:jn(i,n(t))}function li(t){return oi(t,Be,ti)}function ui(t){return oi(t,Fe,si)}var ci=Z(s,"DataView");const ai=ci;var hi=Z(s,"Promise");const fi=hi;var di=Z(s,"Set");const vi=di;var bi="[object Map]",pi="[object Object]",yi="[object Promise]",mi="[object Set]",wi="[object WeakMap]";var gi="[object DataView]";var xi=C(ai),ki=C(vn),ji=C(fi),Ai=C(vi),qi=C(z);var Oi=m;if(ai&&Oi(new ai(new ArrayBuffer(1)))!=gi||vn&&Oi(new vn)!=bi||fi&&Oi(fi.resolve())!=yi||vi&&Oi(new vi)!=mi||z&&Oi(new z)!=wi){Oi=function(t){var e=m(t),n=e==pi?t.constructor:undefined,i=n?C(n):"";if(i){switch(i){case xi:return gi;case ki:return bi;case ji:return yi;case Ai:return mi;case qi:return wi}}return e}}const Mi=Oi;var Ei=Object.prototype;var Ti=Ei.hasOwnProperty;function Ni(t){var e=t.length,n=new t.constructor(e);if(e&&typeof t[0]=="string"&&Ti.call(t,"index")){n.index=t.index;n.input=t.input}return n}var $i=s.Uint8Array;const Li=$i;function _i(t){var e=new t.constructor(t.byteLength);new Li(e).set(new Li(t));return e}function Si(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ci=/\w*$/;function Ii(t){var e=new t.constructor(t.source,Ci.exec(t));e.lastIndex=t.lastIndex;return e}var Bi=o?o.prototype:undefined,Ri=Bi?Bi.valueOf:undefined;function Di(t){return Ri?Object(Ri.call(t)):{}}function Vi(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Hi="[object Boolean]",Fi="[object Date]",Ui="[object Map]",Pi="[object Number]",Zi="[object RegExp]",Ki="[object Set]",zi="[object String]",Wi="[object Symbol]";var Gi="[object ArrayBuffer]",Qi="[object DataView]",Yi="[object Float32Array]",Xi="[object Float64Array]",Ji="[object Int8Array]",ts="[object Int16Array]",es="[object Int32Array]",ns="[object Uint8Array]",is="[object Uint8ClampedArray]",ss="[object Uint16Array]",rs="[object Uint32Array]";function os(t,e,n){var i=t.constructor;switch(e){case Gi:return _i(t);case Hi:case Fi:return new i(+t);case Qi:return Si(t,n);case Yi:case Xi:case Ji:case ts:case es:case ns:case is:case ss:case rs:return Vi(t,n);case Ui:return new i;case Pi:case zi:return new i(t);case Zi:return Ii(t);case Ki:return new i;case Wi:return Di(t)}}function ls(t){return typeof t.constructor=="function"&&!Tt(t)?Q(qn(t)):{}}var us="[object Map]";function cs(t){return w(t)&&Mi(t)==us}var as=Ae&&Ae.isMap;var hs=as?me(as):cs;const fs=hs;var ds="[object Set]";function vs(t){return w(t)&&Mi(t)==ds}var bs=Ae&&Ae.isSet;var ps=bs?me(bs):vs;const ys=ps;var ms=1,ws=2,gs=4;var xs="[object Arguments]",ks="[object Array]",js="[object Boolean]",As="[object Date]",qs="[object Error]",Os="[object Function]",Ms="[object GeneratorFunction]",Es="[object Map]",Ts="[object Number]",Ns="[object Object]",$s="[object RegExp]",Ls="[object Set]",_s="[object String]",Ss="[object Symbol]",Cs="[object WeakMap]";var Is="[object ArrayBuffer]",Bs="[object DataView]",Rs="[object Float32Array]",Ds="[object Float64Array]",Vs="[object Int8Array]",Hs="[object Int16Array]",Fs="[object Int32Array]",Us="[object Uint8Array]",Ps="[object Uint8ClampedArray]",Zs="[object Uint16Array]",Ks="[object Uint32Array]";var zs={};zs[xs]=zs[ks]=zs[Is]=zs[Bs]=zs[js]=zs[As]=zs[Rs]=zs[Ds]=zs[Vs]=zs[Hs]=zs[Fs]=zs[Es]=zs[Ts]=zs[Ns]=zs[$s]=zs[Ls]=zs[_s]=zs[Ss]=zs[Us]=zs[Ps]=zs[Zs]=zs[Ks]=true;zs[qs]=zs[Os]=zs[Cs]=false;function Ws(t,e,n,i,s,r){var o,l=e&ms,u=e&ws,c=e&gs;if(n){o=s?n(t,i,s,r):n(t)}if(o!==undefined){return o}if(!k(t)){return t}var a=x(t);if(a){o=Ni(t);if(!l){return X(t,o)}}else{var h=Mi(t),f=h==Os||h==Ms;if(Zt(t)){return zn(t,l)}if(h==Ns||h==xs||f&&!s){o=u||f?{}:ls(t);if(!l){return u?ri(t,Hn(o,t)):ei(t,Vn(o,t))}}else{if(!zs[h]){return s?t:{}}o=os(t,h,l)}}r||(r=new Dn);var d=r.get(t);if(d){return d}r.set(t,o);if(ys(t)){t.forEach((function(i){o.add(Ws(i,e,n,i,t,r))}))}else if(fs(t)){t.forEach((function(i,s){o.set(s,Ws(i,e,n,s,t,r))}))}var v=c?u?ui:li:u?Fe:Be;var b=a?undefined:v(t);at(b||t,(function(i,s){if(b){s=i;i=t[s]}mt(o,s,Ws(i,e,n,s,t,r))}));return o}var Gs=1,Qs=4;function Ys(t){return Ws(t,Gs|Qs)}var Xs="__lodash_hash_undefined__";function Js(t){this.__data__.set(t,Xs);return this}function tr(t){return this.__data__.has(t)}function er(t){var e=-1,n=t==null?0:t.length;this.__data__=new kn;while(++e<n){this.add(t[e])}}er.prototype.add=er.prototype.push=Js;er.prototype.has=tr;function nr(t,e){var n=-1,i=t==null?0:t.length;while(++n<i){if(e(t[n],n,t)){return true}}return false}function ir(t,e){return t.has(e)}var sr=1,rr=2;function or(t,e,n,i,s,r){var o=n&sr,l=t.length,u=e.length;if(l!=u&&!(o&&u>l)){return false}var c=r.get(t);var a=r.get(e);if(c&&a){return c==e&&a==t}var h=-1,f=true,d=n&rr?new er:undefined;r.set(t,e);r.set(e,t);while(++h<l){var v=t[h],b=e[h];if(i){var p=o?i(b,v,h,e,t,r):i(v,b,h,t,e,r)}if(p!==undefined){if(p){continue}f=false;break}if(d){if(!nr(e,(function(t,e){if(!ir(d,e)&&(v===t||s(v,t,n,i,r))){return d.push(e)}}))){f=false;break}}else if(!(v===b||s(v,b,n,i,r))){f=false;break}}r["delete"](t);r["delete"](e);return f}function lr(t){var e=-1,n=Array(t.size);t.forEach((function(t,i){n[++e]=[i,t]}));return n}function ur(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}var cr=1,ar=2;var hr="[object Boolean]",fr="[object Date]",dr="[object Error]",vr="[object Map]",br="[object Number]",pr="[object RegExp]",yr="[object Set]",mr="[object String]",wr="[object Symbol]";var gr="[object ArrayBuffer]",xr="[object DataView]";var kr=o?o.prototype:undefined,jr=kr?kr.valueOf:undefined;function Ar(t,e,n,i,s,r,o){switch(n){case xr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case gr:if(t.byteLength!=e.byteLength||!r(new Li(t),new Li(e))){return false}return true;case hr:case fr:case br:return bt(+t,+e);case dr:return t.name==e.name&&t.message==e.message;case pr:case mr:return t==e+"";case vr:var l=lr;case yr:var u=i&cr;l||(l=ur);if(t.size!=e.size&&!u){return false}var c=o.get(t);if(c){return c==e}i|=ar;o.set(t,e);var a=or(l(t),l(e),i,s,r,o);o["delete"](t);return a;case wr:if(jr){return jr.call(t)==jr.call(e)}}return false}var qr=1;var Or=Object.prototype;var Mr=Or.hasOwnProperty;function Er(t,e,n,i,s,r){var o=n&qr,l=li(t),u=l.length,c=li(e),a=c.length;if(u!=a&&!o){return false}var h=u;while(h--){var f=l[h];if(!(o?f in e:Mr.call(e,f))){return false}}var d=r.get(t);var v=r.get(e);if(d&&v){return d==e&&v==t}var b=true;r.set(t,e);r.set(e,t);var p=o;while(++h<u){f=l[h];var y=t[f],m=e[f];if(i){var w=o?i(m,y,f,e,t,r):i(y,m,f,t,e,r)}if(!(w===undefined?y===m||s(y,m,n,i,r):w)){b=false;break}p||(p=f=="constructor")}if(b&&!p){var g=t.constructor,x=e.constructor;if(g!=x&&("constructor"in t&&"constructor"in e)&&!(typeof g=="function"&&g instanceof g&&typeof x=="function"&&x instanceof x)){b=false}}r["delete"](t);r["delete"](e);return b}var Tr=1;var Nr="[object Arguments]",$r="[object Array]",Lr="[object Object]";var _r=Object.prototype;var Sr=_r.hasOwnProperty;function Cr(t,e,n,i,s,r){var o=x(t),l=x(e),u=o?$r:Mi(t),c=l?$r:Mi(e);u=u==Nr?Lr:u;c=c==Nr?Lr:c;var a=u==Lr,h=c==Lr,f=u==c;if(f&&Zt(t)){if(!Zt(e)){return false}o=true;a=false}if(f&&!a){r||(r=new Dn);return o||Me(t)?or(t,e,n,i,s,r):Ar(t,e,u,n,i,s,r)}if(!(n&Tr)){var d=a&&Sr.call(t,"__wrapped__"),v=h&&Sr.call(e,"__wrapped__");if(d||v){var b=d?t.value():t,p=v?e.value():e;r||(r=new Dn);return s(b,p,n,i,r)}}if(!f){return false}r||(r=new Dn);return Er(t,e,n,i,s,r)}function Ir(t,e,n,i,s){if(t===e){return true}if(t==null||e==null||!w(t)&&!w(e)){return t!==t&&e!==e}return Cr(t,e,n,i,Ir,s)}function Br(t){return function(e,n,i){var s=-1,r=Object(e),o=i(e),l=o.length;while(l--){var u=o[t?l:++s];if(n(r[u],u,r)===false){break}}return e}}var Rr=Br();const Dr=Rr;function Vr(t,e,n){if(n!==undefined&&!bt(t[e],n)||n===undefined&&!(e in t)){vt(t,e,n)}}function Hr(t){return w(t)&&qt(t)}function Fr(t,e){if(e==="constructor"&&typeof t[e]==="function"){return}if(e=="__proto__"){return}return t[e]}function Ur(t){return wt(t,Fe(t))}function Pr(t,e,n,i,s,r,o){var l=Fr(t,n),u=Fr(e,n),c=o.get(u);if(c){Vr(t,n,c);return}var a=r?r(l,u,n+"",t,e,o):undefined;var h=a===undefined;if(h){var f=x(u),d=!f&&Zt(u),v=!f&&!d&&Me(u);a=u;if(f||d||v){if(x(l)){a=l}else if(Hr(l)){a=X(l)}else if(d){h=false;a=zn(u,true)}else if(v){h=false;a=Vi(u,true)}else{a=[]}}else if(Ln(u)||Bt(u)){a=l;if(Bt(l)){a=Ur(l)}else if(!k(l)||E(l)){a=ls(u)}}else{h=false}}if(h){o.set(u,a);s(a,u,i,r,o);o["delete"](u)}Vr(t,n,a)}function Zr(t,e,n,i,s){if(t===e){return}Dr(e,(function(r,o){s||(s=new Dn);if(k(r)){Pr(t,e,o,n,Zr,i,s)}else{var l=i?i(Fr(t,o),r,o+"",t,e,s):undefined;if(l===undefined){l=r}Vr(t,o,l)}}),Fe)}function Kr(t,e){return Ir(t,e)}var zr=Mt((function(t,e,n){Zr(t,e,n)}));const Wr=zr;var Gr=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Gr||{});class Qr{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const i=Gr.TYPE&Gr.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Gr.LEVEL|i:Gr.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map((t=>t.name))}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Yr extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Xr=class t{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(e,n,i){const s=this.query(n);if(s==null)throw new Yr(`Unable to create ${n} blot`);const r=s,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:r.create(i),l=new r(e,o,i);return t.blots.set(l.domNode,l),l}find(e,n=!1){return t.find(e,n)}query(t,e=Gr.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Gr.LEVEL&Gr.BLOCK?n=this.types.block:t&Gr.LEVEL&Gr.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((t=>(n=this.classes[t],!!n))),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&Gr.LEVEL&n.scope&&e&Gr.TYPE&n.scope?n:null}register(...t){return t.map((t=>{const e="blotName"in t,n="attrName"in t;if(!e&&!n)throw new Yr("Invalid definition");if(e&&t.blotName==="abstract")throw new Yr("Cannot register abstract class");const i=e?t.blotName:n?t.attrName:void 0;return this.types[i]=t,n?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((t=>t.toUpperCase())):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((e=>{(this.tags[e]==null||t.className==null)&&(this.tags[e]=t)})))),t}))}};Xr.blots=new WeakMap;let Jr=Xr;function to(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((t=>t.indexOf(`${e}-`)===0))}class eo extends Qr{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){to(t,this.keyName).forEach((e=>{t.classList.remove(e)})),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(to(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const no=eo;function io(t){const e=t.split("-"),n=e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("");return e[0]+n}class so extends Qr{static keys(t){return(t.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(t,e){return this.canAdd(t,e)?(t.style[io(this.keyName)]=e,!0):!1}remove(t){t.style[io(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[io(this.keyName)];return this.canAdd(t,e)?e:""}}const ro=so;class oo{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Jr.find(this.domNode);if(t==null)return;const e=Qr.keys(this.domNode),n=no.keys(this.domNode),i=ro.keys(this.domNode);e.concat(n).concat(i).forEach((e=>{const n=t.scroll.query(e,Gr.ATTRIBUTE);n instanceof Qr&&(this.attributes[n.attrName]=n)}))}copy(t){Object.keys(this.attributes).forEach((e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)}))}move(t){this.copy(t),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t)),{})}}const lo=oo,uo=class t{constructor(t,e){this.scroll=t,this.domNode=e,Jr.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Yr("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Jr.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,i){const s=this.isolate(t,e);if(this.scroll.query(n,Gr.BLOT)!=null&&i)s.wrap(n,i);else if(this.scroll.query(n,Gr.ATTRIBUTE)!=null){const t=this.scroll.create(this.statics.scope);s.wrap(t),t.format(n,i)}}insertAt(t,e,n){const i=n==null?this.scroll.create("text",e):this.scroll.create(e,n),s=this.split(t);this.parent.insertBefore(i,s||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Yr(`Cannot wrap ${t}`);return n.appendChild(this),n}};uo.blotName="abstract";let co=uo;const ao=class t extends co{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};ao.scope=Gr.INLINE_BLOT;let ho=ao;const fo=ho;class vo{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),i=0;for(;n;){if(n===t)return i;i+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let i=n();for(;i;){const s=i.length();if(t<s||e&&t===s&&(i.next==null||i.next.length()!==0))return[i,t];t-=s,i=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[i,s]=this.find(t);let r=t-s;const o=this.iterator(i);let l=o();for(;l&&r<t+e;){const i=l.length();t>r?n(l,t-r,Math.min(e,r+i-t)):n(l,0,Math.min(i,t+e-r)),r+=i,l=o()}}map(t){return this.reduce(((e,n)=>(e.push(t(n)),e)),[])}reduce(t,e){const n=this.iterator();let i=n();for(;i;)e=t(e,i),i=n();return e}}function bo(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const n=e.create(Gr.INLINE);return Array.from(t.childNodes).forEach((t=>{n.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach(),n}}const po=class t extends co{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new vo,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=bo(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof Yr)return;throw t}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((t,e,n)=>{t.deleteAt(e,n)}))}descendant(e,n=0){const[i,s]=this.children.find(n);return e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e?[i,s]:i instanceof t?i.descendant(e,s):[null,-1]}descendants(e,n=0,i=Number.MAX_VALUE){let s=[],r=i;return this.children.forEachAt(n,i,((n,i,o)=>{(e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e)&&s.push(n),n instanceof t&&(s=s.concat(n.descendants(e,i,r))),r-=o})),s}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach((n=>{e||this.statics.allowedChildren.some((t=>n instanceof t))||(n.statics.scope===Gr.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof t?n.unwrap():n.remove())}))}formatAt(t,e,n,i){this.children.forEachAt(t,e,((t,e,s)=>{t.formatAt(e,s,n,i)}))}insertAt(t,e,n){const[i,s]=this.children.find(t);if(i)i.insertAt(s,e,n);else{const t=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(t)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((n=>{t.insertBefore(n,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,n=!1){const[i,s]=this.children.find(e,n),r=[[this,e]];return i instanceof t?r.concat(i.path(s,n)):(i!=null&&r.push([i,s]),r)}removeChild(t){this.children.remove(t)}replaceWith(e,n){const i=typeof e=="string"?this.scroll.create(e,n):e;return i instanceof t&&this.moveChildren(i),super.replaceWith(i)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),((t,i,s)=>{const r=t.split(i,e);r!=null&&n.appendChild(r)})),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],i=[];t.forEach((t=>{t.target===this.domNode&&t.type==="childList"&&(n.push(...t.addedNodes),i.push(...t.removedNodes))})),i.forEach((t=>{if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);e!=null&&(e.domNode.parentNode==null||e.domNode.parentNode===this.domNode)&&e.detach()})),n.filter((t=>t.parentNode===this.domNode&&t!==this.uiNode)).sort(((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((t=>{let e=null;t.nextSibling!=null&&(e=this.scroll.find(t.nextSibling));const n=bo(t,this.scroll);(n.next!==e||n.next==null)&&(n.parent!=null&&n.parent.removeChild(this),this.insertBefore(n,e||void 0))})),this.enforceAllowedChildren()}};po.uiClass="";let yo=po;const mo=yo;function wo(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const go=class t extends mo{static create(t){return super.create(t)}static formats(e,n){const i=n.query(t.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new lo(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach((e=>{e instanceof t||(e=e.wrap(t.blotName,!0)),this.attributes.copy(e)})),this.unwrap();else{const t=this.scroll.query(e,Gr.INLINE);if(t==null)return;t instanceof Qr?this.attributes.attribute(t,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,i){this.formats()[n]!=null||this.scroll.query(n,Gr.ATTRIBUTE)?this.isolate(t,e).format(n,i):super.formatAt(t,e,n,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const i=this.next;i instanceof t&&i.prev===this&&wo(n,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}wrap(e,n){const i=super.wrap(e,n);return i instanceof t&&this.attributes.move(i),i}};go.allowedChildren=[go,fo],go.blotName="inline",go.scope=Gr.INLINE_BLOT,go.tagName="SPAN";let xo=go;const ko=xo,jo=class t extends mo{static create(t){return super.create(t)}static formats(e,n){const i=n.query(t.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new lo(this.domNode)}format(e,n){const i=this.scroll.query(e,Gr.BLOCK);i!=null&&(i instanceof Qr?this.attributes.attribute(i,n):e===this.statics.blotName&&!n?this.replaceWith(t.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,i){this.scroll.query(n,Gr.BLOCK)!=null?this.format(n,i):super.formatAt(t,e,n,i)}insertAt(t,e,n){if(n==null||this.scroll.query(e,Gr.INLINE)!=null)super.insertAt(t,e,n);else{const i=this.split(t);if(i!=null){const t=this.scroll.create(e,n);i.parent.insertBefore(t,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}};jo.blotName="block",jo.scope=Gr.BLOCK_BLOT,jo.tagName="P",jo.allowedChildren=[ko,jo,fo];let Ao=jo;const qo=Ao,Oo=class t extends mo{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,i){super.formatAt(t,e,n,i),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Oo.blotName="container",Oo.scope=Gr.BLOCK_BLOT;let Mo=Oo;const Eo=Mo;class To extends fo{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,i){t===0&&e===this.length()?this.format(n,i):super.formatAt(t,e,n,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const No=To,$o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Lo=100,_o=class t extends mo{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver((t=>{this.update(t)})),this.observer.observe(this.domNode,$o),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=Gr.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach((t=>{t.remove()})):super.deleteAt(t,e)}formatAt(t,e,n,i){this.update(),super.formatAt(t,e,n,i)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const s=(t,e=!0)=>{t==null||t===this||t.domNode.parentNode!=null&&(n.has(t.domNode)||n.set(t.domNode,[]),e&&s(t.parent))},r=t=>{n.has(t.domNode)&&(t instanceof mo&&t.children.forEach(r),n.delete(t.domNode),t.optimize(e))};let o=t;for(let e=0;o.length>0;e+=1){if(e>=Lo)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((t=>{const e=this.find(t.target,!0);e!=null&&(e.domNode===t.target&&(t.type==="childList"?(s(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((t=>{const e=this.find(t,!1);s(e,!1),e instanceof mo&&e.children.forEach((t=>{s(t,!1)}))}))):t.type==="attributes"&&s(e.prev)),s(e))})),this.children.forEach(r),o=Array.from(this.observer.takeRecords()),i=o.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map((t=>{const e=this.find(t.target,!0);return e==null?null:n.has(e.domNode)?(n.get(e.domNode).push(t),null):(n.set(e.domNode,[t]),e)})).forEach((t=>{t!=null&&t!==this&&n.has(t.domNode)&&t.update(n.get(t.domNode)||[],e)})),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};_o.blotName="scroll",_o.defaultChild=qo,_o.allowedChildren=[qo,Eo],_o.scope=Gr.BLOCK_BLOT,_o.tagName="DIV";let So=_o;const Co=So,Io=class t extends fo{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some((t=>t.type==="characterData"&&t.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Io.blotName="text",Io.scope=Gr.INLINE_BLOT;let Bo=Io;const Ro=Bo;const Do=Object.freeze({__proto__:null,Attributor:Qr,AttributorStore:lo,BlockBlot:qo,ClassAttributor:no,ContainerBlot:Eo,EmbedBlot:No,InlineBlot:ko,LeafBlot:fo,ParentBlot:mo,Registry:Jr,Scope:Gr,ScrollBlot:Co,StyleAttributor:ro,TextBlot:Ro});var Vo=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var Fo={exports:{}};var Uo=-1;var Po=1;var Zo=0;function Ko(t,e,n,i,s){if(t===e){if(t){return[[Zo,t]]}return[]}if(n!=null){var r=vl(t,e,n);if(r){return r}}var o=Qo(t,e);var l=t.substring(0,o);t=t.substring(o);e=e.substring(o);o=Xo(t,e);var u=t.substring(t.length-o);t=t.substring(0,t.length-o);e=e.substring(0,e.length-o);var c=zo(t,e);if(l){c.unshift([Zo,l])}if(u){c.push([Zo,u])}ll(c,s);if(i){tl(c)}return c}function zo(t,e){var n;if(!t){return[[Po,e]]}if(!e){return[[Uo,t]]}var i=t.length>e.length?t:e;var s=t.length>e.length?e:t;var r=i.indexOf(s);if(r!==-1){n=[[Po,i.substring(0,r)],[Zo,s],[Po,i.substring(r+s.length)]];if(t.length>e.length){n[0][0]=n[2][0]=Uo}return n}if(s.length===1){return[[Uo,t],[Po,e]]}var o=Jo(t,e);if(o){var l=o[0];var u=o[1];var c=o[2];var a=o[3];var h=o[4];var f=Ko(l,c);var d=Ko(u,a);return f.concat([[Zo,h]],d)}return Wo(t,e)}function Wo(t,e){var n=t.length;var i=e.length;var s=Math.ceil((n+i)/2);var r=s;var o=2*s;var l=new Array(o);var u=new Array(o);for(var c=0;c<o;c++){l[c]=-1;u[c]=-1}l[r+1]=0;u[r+1]=0;var a=n-i;var h=a%2!==0;var f=0;var d=0;var v=0;var b=0;for(var p=0;p<s;p++){for(var y=-p+f;y<=p-d;y+=2){var m=r+y;var w;if(y===-p||y!==p&&l[m-1]<l[m+1]){w=l[m+1]}else{w=l[m-1]+1}var g=w-y;while(w<n&&g<i&&t.charAt(w)===e.charAt(g)){w++;g++}l[m]=w;if(w>n){d+=2}else if(g>i){f+=2}else if(h){var x=r+a-y;if(x>=0&&x<o&&u[x]!==-1){var k=n-u[x];if(w>=k){return Go(t,e,w,g)}}}}for(var j=-p+v;j<=p-b;j+=2){var x=r+j;var k;if(j===-p||j!==p&&u[x-1]<u[x+1]){k=u[x+1]}else{k=u[x-1]+1}var A=k-j;while(k<n&&A<i&&t.charAt(n-k-1)===e.charAt(i-A-1)){k++;A++}u[x]=k;if(k>n){b+=2}else if(A>i){v+=2}else if(!h){var m=r+a-j;if(m>=0&&m<o&&l[m]!==-1){var w=l[m];var g=r+w-m;k=n-k;if(w>=k){return Go(t,e,w,g)}}}}}return[[Uo,t],[Po,e]]}function Go(t,e,n,i){var s=t.substring(0,n);var r=e.substring(0,i);var o=t.substring(n);var l=e.substring(i);var u=Ko(s,r);var c=Ko(o,l);return u.concat(c)}function Qo(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0)){return 0}var n=0;var i=Math.min(t.length,e.length);var s=i;var r=0;while(n<s){if(t.substring(r,s)==e.substring(r,s)){n=s;r=n}else{i=s}s=Math.floor((i-n)/2+n)}if(ul(t.charCodeAt(s-1))){s--}return s}function Yo(t,e){var n=t.length;var i=e.length;if(n==0||i==0){return 0}if(n>i){t=t.substring(n-i)}else if(n<i){e=e.substring(0,n)}var s=Math.min(n,i);if(t==e){return s}var r=0;var o=1;while(true){var l=t.substring(s-o);var u=e.indexOf(l);if(u==-1){return r}o+=u;if(u==0||t.substring(s-o)==e.substring(0,o)){r=o;o++}}}function Xo(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1)){return 0}var n=0;var i=Math.min(t.length,e.length);var s=i;var r=0;while(n<s){if(t.substring(t.length-s,t.length-r)==e.substring(e.length-s,e.length-r)){n=s;r=n}else{i=s}s=Math.floor((i-n)/2+n)}if(cl(t.charCodeAt(t.length-s))){s--}return s}function Jo(t,e){var n=t.length>e.length?t:e;var i=t.length>e.length?e:t;if(n.length<4||i.length*2<n.length){return null}function s(t,e,n){var i=t.substring(n,n+Math.floor(t.length/4));var s=-1;var r="";var o,l,u,c;while((s=e.indexOf(i,s+1))!==-1){var a=Qo(t.substring(n),e.substring(s));var h=Xo(t.substring(0,n),e.substring(0,s));if(r.length<h+a){r=e.substring(s-h,s)+e.substring(s,s+a);o=t.substring(0,n-h);l=t.substring(n+a);u=e.substring(0,s-h);c=e.substring(s+a)}}if(r.length*2>=t.length){return[o,l,u,c,r]}else{return null}}var r=s(n,i,Math.ceil(n.length/4));var o=s(n,i,Math.ceil(n.length/2));var l;if(!r&&!o){return null}else if(!o){l=r}else if(!r){l=o}else{l=r[4].length>o[4].length?r:o}var u,c,a,h;if(t.length>e.length){u=l[0];c=l[1];a=l[2];h=l[3]}else{a=l[0];h=l[1];u=l[2];c=l[3]}var f=l[4];return[u,c,a,h,f]}function tl(t){var e=false;var n=[];var i=0;var s=null;var r=0;var o=0;var l=0;var u=0;var c=0;while(r<t.length){if(t[r][0]==Zo){n[i++]=r;o=u;l=c;u=0;c=0;s=t[r][1]}else{if(t[r][0]==Po){u+=t[r][1].length}else{c+=t[r][1].length}if(s&&s.length<=Math.max(o,l)&&s.length<=Math.max(u,c)){t.splice(n[i-1],0,[Uo,s]);t[n[i-1]+1][0]=Po;i--;i--;r=i>0?n[i-1]:-1;o=0;l=0;u=0;c=0;s=null;e=true}}r++}if(e){ll(t)}ol(t);r=1;while(r<t.length){if(t[r-1][0]==Uo&&t[r][0]==Po){var a=t[r-1][1];var h=t[r][1];var f=Yo(a,h);var d=Yo(h,a);if(f>=d){if(f>=a.length/2||f>=h.length/2){t.splice(r,0,[Zo,h.substring(0,f)]);t[r-1][1]=a.substring(0,a.length-f);t[r+1][1]=h.substring(f);r++}}else{if(d>=a.length/2||d>=h.length/2){t.splice(r,0,[Zo,a.substring(0,d)]);t[r-1][0]=Po;t[r-1][1]=h.substring(0,h.length-d);t[r+1][0]=Uo;t[r+1][1]=a.substring(d);r++}}r++}r++}}var el=/[^a-zA-Z0-9]/;var nl=/\s/;var il=/[\r\n]/;var sl=/\n\r?\n$/;var rl=/^\r?\n\r?\n/;function ol(t){function e(t,e){if(!t||!e){return 6}var n=t.charAt(t.length-1);var i=e.charAt(0);var s=n.match(el);var r=i.match(el);var o=s&&n.match(nl);var l=r&&i.match(nl);var u=o&&n.match(il);var c=l&&i.match(il);var a=u&&t.match(sl);var h=c&&e.match(rl);if(a||h){return 5}else if(u||c){return 4}else if(s&&!o&&l){return 3}else if(o||l){return 2}else if(s||r){return 1}return 0}var n=1;while(n<t.length-1){if(t[n-1][0]==Zo&&t[n+1][0]==Zo){var i=t[n-1][1];var s=t[n][1];var r=t[n+1][1];var o=Xo(i,s);if(o){var l=s.substring(s.length-o);i=i.substring(0,i.length-o);s=l+s.substring(0,s.length-o);r=l+r}var u=i;var c=s;var a=r;var h=e(i,s)+e(s,r);while(s.charAt(0)===r.charAt(0)){i+=s.charAt(0);s=s.substring(1)+r.charAt(0);r=r.substring(1);var f=e(i,s)+e(s,r);if(f>=h){h=f;u=i;c=s;a=r}}if(t[n-1][1]!=u){if(u){t[n-1][1]=u}else{t.splice(n-1,1);n--}t[n][1]=c;if(a){t[n+1][1]=a}else{t.splice(n+1,1);n--}}}n++}}function ll(t,e){t.push([Zo,""]);var n=0;var i=0;var s=0;var r="";var o="";var l;while(n<t.length){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Po:s++;o+=t[n][1];n++;break;case Uo:i++;r+=t[n][1];n++;break;case Zo:var u=n-s-i-1;if(e){if(u>=0&&hl(t[u][1])){var c=t[u][1].slice(-1);t[u][1]=t[u][1].slice(0,-1);r=c+r;o=c+o;if(!t[u][1]){t.splice(u,1);n--;var a=u-1;if(t[a]&&t[a][0]===Po){s++;o=t[a][1]+o;a--}if(t[a]&&t[a][0]===Uo){i++;r=t[a][1]+r;a--}u=a}}if(al(t[n][1])){var c=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1);r+=c;o+=c}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(r.length>0||o.length>0){if(r.length>0&&o.length>0){l=Qo(o,r);if(l!==0){if(u>=0){t[u][1]+=o.substring(0,l)}else{t.splice(0,0,[Zo,o.substring(0,l)]);n++}o=o.substring(l);r=r.substring(l)}l=Xo(o,r);if(l!==0){t[n][1]=o.substring(o.length-l)+t[n][1];o=o.substring(0,o.length-l);r=r.substring(0,r.length-l)}}var h=s+i;if(r.length===0&&o.length===0){t.splice(n-h,h);n=n-h}else if(r.length===0){t.splice(n-h,h,[Po,o]);n=n-h+1}else if(o.length===0){t.splice(n-h,h,[Uo,r]);n=n-h+1}else{t.splice(n-h,h,[Uo,r],[Po,o]);n=n-h+2}}if(n!==0&&t[n-1][0]===Zo){t[n-1][1]+=t[n][1];t.splice(n,1)}else{n++}s=0;i=0;r="";o="";break}}if(t[t.length-1][1]===""){t.pop()}var f=false;n=1;while(n<t.length-1){if(t[n-1][0]===Zo&&t[n+1][0]===Zo){if(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]){t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length);t[n+1][1]=t[n-1][1]+t[n+1][1];t.splice(n-1,1);f=true}else if(t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]){t[n-1][1]+=t[n+1][1];t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1];t.splice(n+1,1);f=true}}n++}if(f){ll(t,e)}}function ul(t){return t>=55296&&t<=56319}function cl(t){return t>=56320&&t<=57343}function al(t){return cl(t.charCodeAt(0))}function hl(t){return ul(t.charCodeAt(t.length-1))}function fl(t){var e=[];for(var n=0;n<t.length;n++){if(t[n][1].length>0){e.push(t[n])}}return e}function dl(t,e,n,i){if(hl(t)||al(i)){return null}return fl([[Zo,t],[Uo,e],[Po,n],[Zo,i]])}function vl(t,e,n){var i=typeof n==="number"?{index:n,length:0}:n.oldRange;var s=typeof n==="number"?null:n.newRange;var r=t.length;var o=e.length;if(i.length===0&&(s===null||s.length===0)){var l=i.index;var u=t.slice(0,l);var c=t.slice(l);var a=s?s.index:null;t:{var h=l+o-r;if(a!==null&&a!==h){break t}if(h<0||h>o){break t}var f=e.slice(0,h);var d=e.slice(h);if(d!==c){break t}var v=Math.min(l,h);var b=u.slice(0,v);var p=f.slice(0,v);if(b!==p){break t}var y=u.slice(v);var m=f.slice(v);return dl(b,y,m,c)}t:{if(a!==null&&a!==l){break t}var w=l;var f=e.slice(0,w);var d=e.slice(w);if(f!==u){break t}var g=Math.min(r-w,o-w);var x=c.slice(c.length-g);var k=d.slice(d.length-g);if(x!==k){break t}var y=c.slice(0,c.length-g);var m=d.slice(0,d.length-g);return dl(u,y,m,x)}}if(i.length>0&&s&&s.length===0){t:{var b=t.slice(0,i.index);var x=t.slice(i.index+i.length);var v=b.length;var g=x.length;if(o<v+g){break t}var p=e.slice(0,v);var k=e.slice(o-g);if(b!==p||x!==k){break t}var y=t.slice(v,r-g);var m=e.slice(v,o-g);return dl(b,y,m,x)}}return null}function bl(t,e,n,i){return Ko(t,e,n,i,true)}bl.INSERT=Po;bl.DELETE=Uo;bl.EQUAL=Zo;var pl=bl;var yl={exports:{}};(function(t,e){var n=200;var i="__lodash_hash_undefined__";var s=9007199254740991;var r="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",a="[object Function]",h="[object GeneratorFunction]",f="[object Map]",d="[object Number]",v="[object Object]",b="[object Promise]",p="[object RegExp]",y="[object Set]",m="[object String]",w="[object Symbol]",g="[object WeakMap]";var x="[object ArrayBuffer]",k="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",q="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",$="[object Uint32Array]";var L=/[\\^$.*+?()[\]{}|]/g;var _=/\w*$/;var S=/^\[object .+?Constructor\]$/;var C=/^(?:0|[1-9]\d*)$/;var I={};I[r]=I[o]=I[x]=I[k]=I[l]=I[u]=I[j]=I[A]=I[q]=I[O]=I[M]=I[f]=I[d]=I[v]=I[p]=I[y]=I[m]=I[w]=I[E]=I[T]=I[N]=I[$]=true;I[c]=I[a]=I[g]=false;var B=typeof Vo=="object"&&Vo&&Vo.Object===Object&&Vo;var R=typeof self=="object"&&self&&self.Object===Object&&self;var D=B||R||Function("return this")();var V=e&&!e.nodeType&&e;var H=V&&"object"=="object"&&t&&!t.nodeType&&t;var F=H&&H.exports===V;function U(t,e){t.set(e[0],e[1]);return t}function P(t,e){t.add(e);return t}function Z(t,e){var n=-1,i=t?t.length:0;while(++n<i){if(e(t[n],n,t)===false){break}}return t}function K(t,e){var n=-1,i=e.length,s=t.length;while(++n<i){t[s+n]=e[n]}return t}function z(t,e,n,i){var s=-1,r=t?t.length:0;if(i&&r){n=t[++s]}while(++s<r){n=e(n,t[s],s,t)}return n}function W(t,e){var n=-1,i=Array(t);while(++n<t){i[n]=e(n)}return i}function G(t,e){return t==null?undefined:t[e]}function Q(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(t){}}return e}function Y(t){var e=-1,n=Array(t.size);t.forEach((function(t,i){n[++e]=[i,t]}));return n}function X(t,e){return function(n){return t(e(n))}}function J(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}var tt=Array.prototype,et=Function.prototype,nt=Object.prototype;var it=D["__core-js_shared__"];var st=function(){var t=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var rt=et.toString;var ot=nt.hasOwnProperty;var lt=nt.toString;var ut=RegExp("^"+rt.call(ot).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ct=F?D.Buffer:undefined,at=D.Symbol,ht=D.Uint8Array,ft=X(Object.getPrototypeOf,Object),dt=Object.create,vt=nt.propertyIsEnumerable,bt=tt.splice;var pt=Object.getOwnPropertySymbols,yt=ct?ct.isBuffer:undefined,mt=X(Object.keys,Object);var wt=qe(D,"DataView"),gt=qe(D,"Map"),xt=qe(D,"Promise"),kt=qe(D,"Set"),jt=qe(D,"WeakMap"),At=qe(Object,"create");var qt=Ce(wt),Ot=Ce(gt),Mt=Ce(xt),Et=Ce(kt),Tt=Ce(jt);var Nt=at?at.prototype:undefined,$t=Nt?Nt.valueOf:undefined;function Lt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function _t(){this.__data__=At?At(null):{}}function St(t){return this.has(t)&&delete this.__data__[t]}function Ct(t){var e=this.__data__;if(At){var n=e[t];return n===i?undefined:n}return ot.call(e,t)?e[t]:undefined}function It(t){var e=this.__data__;return At?e[t]!==undefined:ot.call(e,t)}function Bt(t,e){var n=this.__data__;n[t]=At&&e===undefined?i:e;return this}Lt.prototype.clear=_t;Lt.prototype["delete"]=St;Lt.prototype.get=Ct;Lt.prototype.has=It;Lt.prototype.set=Bt;function Rt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Dt(){this.__data__=[]}function Vt(t){var e=this.__data__,n=se(e,t);if(n<0){return false}var i=e.length-1;if(n==i){e.pop()}else{bt.call(e,n,1)}return true}function Ht(t){var e=this.__data__,n=se(e,t);return n<0?undefined:e[n][1]}function Ft(t){return se(this.__data__,t)>-1}function Ut(t,e){var n=this.__data__,i=se(n,t);if(i<0){n.push([t,e])}else{n[i][1]=e}return this}Rt.prototype.clear=Dt;Rt.prototype["delete"]=Vt;Rt.prototype.get=Ht;Rt.prototype.has=Ft;Rt.prototype.set=Ut;function Pt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Zt(){this.__data__={hash:new Lt,map:new(gt||Rt),string:new Lt}}function Kt(t){return Ae(this,t)["delete"](t)}function zt(t){return Ae(this,t).get(t)}function Wt(t){return Ae(this,t).has(t)}function Gt(t,e){Ae(this,t).set(t,e);return this}Pt.prototype.clear=Zt;Pt.prototype["delete"]=Kt;Pt.prototype.get=zt;Pt.prototype.has=Wt;Pt.prototype.set=Gt;function Qt(t){this.__data__=new Rt(t)}function Yt(){this.__data__=new Rt}function Xt(t){return this.__data__["delete"](t)}function Jt(t){return this.__data__.get(t)}function te(t){return this.__data__.has(t)}function ee(t,e){var i=this.__data__;if(i instanceof Rt){var s=i.__data__;if(!gt||s.length<n-1){s.push([t,e]);return this}i=this.__data__=new Pt(s)}i.set(t,e);return this}Qt.prototype.clear=Yt;Qt.prototype["delete"]=Xt;Qt.prototype.get=Jt;Qt.prototype.has=te;Qt.prototype.set=ee;function ne(t,e){var n=De(t)||Re(t)?W(t.length,String):[];var i=n.length,s=!!i;for(var r in t){if((e||ot.call(t,r))&&!(s&&(r=="length"||$e(r,i)))){n.push(r)}}return n}function ie(t,e,n){var i=t[e];if(!(ot.call(t,e)&&Be(i,n))||n===undefined&&!(e in t)){t[e]=n}}function se(t,e){var n=t.length;while(n--){if(Be(t[n][0],e)){return n}}return-1}function re(t,e){return t&&xe(e,ze(e),t)}function oe(t,e,n,i,s,o,l){var u;if(i){u=o?i(t,s,o,l):i(t)}if(u!==undefined){return u}if(!Ze(t)){return t}var c=De(t);if(c){u=Ee(t);if(!e){return ge(t,u)}}else{var f=Me(t),d=f==a||f==h;if(Fe(t)){return fe(t,e)}if(f==v||f==r||d&&!o){if(Q(t)){return o?t:{}}u=Te(d?{}:t);if(!e){return ke(t,re(u,t))}}else{if(!I[f]){return o?t:{}}u=Ne(t,f,oe,e)}}l||(l=new Qt);var b=l.get(t);if(b){return b}l.set(t,u);if(!c){var p=n?je(t):ze(t)}Z(p||t,(function(s,r){if(p){r=s;s=t[r]}ie(u,r,oe(s,e,n,i,r,t,l))}));return u}function le(t){return Ze(t)?dt(t):{}}function ue(t,e,n){var i=e(t);return De(t)?i:K(i,n(t))}function ce(t){return lt.call(t)}function ae(t){if(!Ze(t)||_e(t)){return false}var e=Ue(t)||Q(t)?ut:S;return e.test(Ce(t))}function he(t){if(!Se(t)){return mt(t)}var e=[];for(var n in Object(t)){if(ot.call(t,n)&&n!="constructor"){e.push(n)}}return e}function fe(t,e){if(e){return t.slice()}var n=new t.constructor(t.length);t.copy(n);return n}function de(t){var e=new t.constructor(t.byteLength);new ht(e).set(new ht(t));return e}function ve(t,e){var n=e?de(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function be(t,e,n){var i=e?n(Y(t),true):Y(t);return z(i,U,new t.constructor)}function pe(t){var e=new t.constructor(t.source,_.exec(t));e.lastIndex=t.lastIndex;return e}function ye(t,e,n){var i=e?n(J(t),true):J(t);return z(i,P,new t.constructor)}function me(t){return $t?Object($t.call(t)):{}}function we(t,e){var n=e?de(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ge(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i){e[n]=t[n]}return e}function xe(t,e,n,i){n||(n={});var s=-1,r=e.length;while(++s<r){var o=e[s];var l=i?i(n[o],t[o],o,n,t):undefined;ie(n,o,l===undefined?t[o]:l)}return n}function ke(t,e){return xe(t,Oe(t),e)}function je(t){return ue(t,ze,Oe)}function Ae(t,e){var n=t.__data__;return Le(e)?n[typeof e=="string"?"string":"hash"]:n.map}function qe(t,e){var n=G(t,e);return ae(n)?n:undefined}var Oe=pt?X(pt,Object):We;var Me=ce;if(wt&&Me(new wt(new ArrayBuffer(1)))!=k||gt&&Me(new gt)!=f||xt&&Me(xt.resolve())!=b||kt&&Me(new kt)!=y||jt&&Me(new jt)!=g){Me=function(t){var e=lt.call(t),n=e==v?t.constructor:undefined,i=n?Ce(n):undefined;if(i){switch(i){case qt:return k;case Ot:return f;case Mt:return b;case Et:return y;case Tt:return g}}return e}}function Ee(t){var e=t.length,n=t.constructor(e);if(e&&typeof t[0]=="string"&&ot.call(t,"index")){n.index=t.index;n.input=t.input}return n}function Te(t){return typeof t.constructor=="function"&&!Se(t)?le(ft(t)):{}}function Ne(t,e,n,i){var s=t.constructor;switch(e){case x:return de(t);case l:case u:return new s(+t);case k:return ve(t,i);case j:case A:case q:case O:case M:case E:case T:case N:case $:return we(t,i);case f:return be(t,i,n);case d:case m:return new s(t);case p:return pe(t);case y:return ye(t,i,n);case w:return me(t)}}function $e(t,e){e=e==null?s:e;return!!e&&(typeof t=="number"||C.test(t))&&(t>-1&&t%1==0&&t<e)}function Le(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function _e(t){return!!st&&st in t}function Se(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nt;return t===n}function Ce(t){if(t!=null){try{return rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ie(t){return oe(t,true,true)}function Be(t,e){return t===e||t!==t&&e!==e}function Re(t){return He(t)&&ot.call(t,"callee")&&(!vt.call(t,"callee")||lt.call(t)==r)}var De=Array.isArray;function Ve(t){return t!=null&&Pe(t.length)&&!Ue(t)}function He(t){return Ke(t)&&Ve(t)}var Fe=yt||Ge;function Ue(t){var e=Ze(t)?lt.call(t):"";return e==a||e==h}function Pe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=s}function Ze(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ke(t){return!!t&&typeof t=="object"}function ze(t){return Ve(t)?ne(t):he(t)}function We(){return[]}function Ge(){return false}t.exports=Ie})(yl,yl.exports);var ml={exports:{}};(function(t,e){var n=200;var i="__lodash_hash_undefined__";var s=1,r=2;var o=9007199254740991;var l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",a="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",v="[object GeneratorFunction]",b="[object Map]",p="[object Number]",y="[object Null]",m="[object Object]",w="[object Promise]",g="[object Proxy]",x="[object RegExp]",k="[object Set]",j="[object String]",A="[object Symbol]",q="[object Undefined]",O="[object WeakMap]";var M="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",N="[object Float64Array]",$="[object Int8Array]",L="[object Int16Array]",_="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]";var R=/[\\^$.*+?()[\]{}|]/g;var D=/^\[object .+?Constructor\]$/;var V=/^(?:0|[1-9]\d*)$/;var H={};H[T]=H[N]=H[$]=H[L]=H[_]=H[S]=H[C]=H[I]=H[B]=true;H[l]=H[u]=H[M]=H[a]=H[E]=H[h]=H[f]=H[d]=H[b]=H[p]=H[m]=H[x]=H[k]=H[j]=H[O]=false;var F=typeof Vo=="object"&&Vo&&Vo.Object===Object&&Vo;var U=typeof self=="object"&&self&&self.Object===Object&&self;var P=F||U||Function("return this")();var Z=e&&!e.nodeType&&e;var K=Z&&"object"=="object"&&t&&!t.nodeType&&t;var z=K&&K.exports===Z;var W=z&&F.process;var G=function(){try{return W&&W.binding&&W.binding("util")}catch(t){}}();var Q=G&&G.isTypedArray;function Y(t,e){var n=-1,i=t==null?0:t.length,s=0,r=[];while(++n<i){var o=t[n];if(e(o,n,t)){r[s++]=o}}return r}function X(t,e){var n=-1,i=e.length,s=t.length;while(++n<i){t[s+n]=e[n]}return t}function J(t,e){var n=-1,i=t==null?0:t.length;while(++n<i){if(e(t[n],n,t)){return true}}return false}function tt(t,e){var n=-1,i=Array(t);while(++n<t){i[n]=e(n)}return i}function et(t){return function(e){return t(e)}}function nt(t,e){return t.has(e)}function it(t,e){return t==null?undefined:t[e]}function st(t){var e=-1,n=Array(t.size);t.forEach((function(t,i){n[++e]=[i,t]}));return n}function rt(t,e){return function(n){return t(e(n))}}function ot(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}var lt=Array.prototype,ut=Function.prototype,ct=Object.prototype;var at=P["__core-js_shared__"];var ht=ut.toString;var ft=ct.hasOwnProperty;var dt=function(){var t=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var vt=ct.toString;var bt=RegExp("^"+ht.call(ft).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var pt=z?P.Buffer:undefined,yt=P.Symbol,mt=P.Uint8Array,wt=ct.propertyIsEnumerable,gt=lt.splice,xt=yt?yt.toStringTag:undefined;var kt=Object.getOwnPropertySymbols,jt=pt?pt.isBuffer:undefined,At=rt(Object.keys,Object);var qt=Oe(P,"DataView"),Ot=Oe(P,"Map"),Mt=Oe(P,"Promise"),Et=Oe(P,"Set"),Tt=Oe(P,"WeakMap"),Nt=Oe(Object,"create");var $t=Ce(qt),Lt=Ce(Ot),_t=Ce(Mt),St=Ce(Et),Ct=Ce(Tt);var It=yt?yt.prototype:undefined,Bt=It?It.valueOf:undefined;function Rt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Dt(){this.__data__=Nt?Nt(null):{};this.size=0}function Vt(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Ht(t){var e=this.__data__;if(Nt){var n=e[t];return n===i?undefined:n}return ft.call(e,t)?e[t]:undefined}function Ft(t){var e=this.__data__;return Nt?e[t]!==undefined:ft.call(e,t)}function Ut(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=Nt&&e===undefined?i:e;return this}Rt.prototype.clear=Dt;Rt.prototype["delete"]=Vt;Rt.prototype.get=Ht;Rt.prototype.has=Ft;Rt.prototype.set=Ut;function Pt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Zt(){this.__data__=[];this.size=0}function Kt(t){var e=this.__data__,n=fe(e,t);if(n<0){return false}var i=e.length-1;if(n==i){e.pop()}else{gt.call(e,n,1)}--this.size;return true}function zt(t){var e=this.__data__,n=fe(e,t);return n<0?undefined:e[n][1]}function Wt(t){return fe(this.__data__,t)>-1}function Gt(t,e){var n=this.__data__,i=fe(n,t);if(i<0){++this.size;n.push([t,e])}else{n[i][1]=e}return this}Pt.prototype.clear=Zt;Pt.prototype["delete"]=Kt;Pt.prototype.get=zt;Pt.prototype.has=Wt;Pt.prototype.set=Gt;function Qt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Yt(){this.size=0;this.__data__={hash:new Rt,map:new(Ot||Pt),string:new Rt}}function Xt(t){var e=qe(this,t)["delete"](t);this.size-=e?1:0;return e}function Jt(t){return qe(this,t).get(t)}function te(t){return qe(this,t).has(t)}function ee(t,e){var n=qe(this,t),i=n.size;n.set(t,e);this.size+=n.size==i?0:1;return this}Qt.prototype.clear=Yt;Qt.prototype["delete"]=Xt;Qt.prototype.get=Jt;Qt.prototype.has=te;Qt.prototype.set=ee;function ne(t){var e=-1,n=t==null?0:t.length;this.__data__=new Qt;while(++e<n){this.add(t[e])}}function ie(t){this.__data__.set(t,i);return this}function se(t){return this.__data__.has(t)}ne.prototype.add=ne.prototype.push=ie;ne.prototype.has=se;function re(t){var e=this.__data__=new Pt(t);this.size=e.size}function oe(){this.__data__=new Pt;this.size=0}function le(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function ue(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function ae(t,e){var i=this.__data__;if(i instanceof Pt){var s=i.__data__;if(!Ot||s.length<n-1){s.push([t,e]);this.size=++i.size;return this}i=this.__data__=new Qt(s)}i.set(t,e);this.size=i.size;return this}re.prototype.clear=oe;re.prototype["delete"]=le;re.prototype.get=ue;re.prototype.has=ce;re.prototype.set=ae;function he(t,e){var n=Re(t),i=!n&&Be(t),s=!n&&!i&&Ve(t),r=!n&&!i&&!s&&Ke(t),o=n||i||s||r,l=o?tt(t.length,String):[],u=l.length;for(var c in t){if((e||ft.call(t,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ne(c,u)))){l.push(c)}}return l}function fe(t,e){var n=t.length;while(n--){if(Ie(t[n][0],e)){return n}}return-1}function de(t,e,n){var i=e(t);return Re(t)?i:X(i,n(t))}function ve(t){if(t==null){return t===undefined?q:y}return xt&&xt in Object(t)?Me(t):Se(t)}function be(t){return Ze(t)&&ve(t)==l}function pe(t,e,n,i,s){if(t===e){return true}if(t==null||e==null||!Ze(t)&&!Ze(e)){return t!==t&&e!==e}return ye(t,e,n,i,pe,s)}function ye(t,e,n,i,r,o){var c=Re(t),a=Re(e),h=c?u:Te(t),f=a?u:Te(e);h=h==l?m:h;f=f==l?m:f;var d=h==m,v=f==m,b=h==f;if(b&&Ve(t)){if(!Ve(e)){return false}c=true;d=false}if(b&&!d){o||(o=new re);return c||Ke(t)?xe(t,e,n,i,r,o):ke(t,e,h,n,i,r,o)}if(!(n&s)){var p=d&&ft.call(t,"__wrapped__"),y=v&&ft.call(e,"__wrapped__");if(p||y){var w=p?t.value():t,g=y?e.value():e;o||(o=new re);return r(w,g,n,i,o)}}if(!b){return false}o||(o=new re);return je(t,e,n,i,r,o)}function me(t){if(!Pe(t)||Le(t)){return false}var e=Fe(t)?bt:D;return e.test(Ce(t))}function we(t){return Ze(t)&&Ue(t.length)&&!!H[ve(t)]}function ge(t){if(!_e(t)){return At(t)}var e=[];for(var n in Object(t)){if(ft.call(t,n)&&n!="constructor"){e.push(n)}}return e}function xe(t,e,n,i,o,l){var u=n&s,c=t.length,a=e.length;if(c!=a&&!(u&&a>c)){return false}var h=l.get(t);if(h&&l.get(e)){return h==e}var f=-1,d=true,v=n&r?new ne:undefined;l.set(t,e);l.set(e,t);while(++f<c){var b=t[f],p=e[f];if(i){var y=u?i(p,b,f,e,t,l):i(b,p,f,t,e,l)}if(y!==undefined){if(y){continue}d=false;break}if(v){if(!J(e,(function(t,e){if(!nt(v,e)&&(b===t||o(b,t,n,i,l))){return v.push(e)}}))){d=false;break}}else if(!(b===p||o(b,p,n,i,l))){d=false;break}}l["delete"](t);l["delete"](e);return d}function ke(t,e,n,i,o,l,u){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case M:if(t.byteLength!=e.byteLength||!l(new mt(t),new mt(e))){return false}return true;case a:case h:case p:return Ie(+t,+e);case f:return t.name==e.name&&t.message==e.message;case x:case j:return t==e+"";case b:var c=st;case k:var d=i&s;c||(c=ot);if(t.size!=e.size&&!d){return false}var v=u.get(t);if(v){return v==e}i|=r;u.set(t,e);var y=xe(c(t),c(e),i,o,l,u);u["delete"](t);return y;case A:if(Bt){return Bt.call(t)==Bt.call(e)}}return false}function je(t,e,n,i,r,o){var l=n&s,u=Ae(t),c=u.length,a=Ae(e),h=a.length;if(c!=h&&!l){return false}var f=c;while(f--){var d=u[f];if(!(l?d in e:ft.call(e,d))){return false}}var v=o.get(t);if(v&&o.get(e)){return v==e}var b=true;o.set(t,e);o.set(e,t);var p=l;while(++f<c){d=u[f];var y=t[d],m=e[d];if(i){var w=l?i(m,y,d,e,t,o):i(y,m,d,t,e,o)}if(!(w===undefined?y===m||r(y,m,n,i,o):w)){b=false;break}p||(p=d=="constructor")}if(b&&!p){var g=t.constructor,x=e.constructor;if(g!=x&&("constructor"in t&&"constructor"in e)&&!(typeof g=="function"&&g instanceof g&&typeof x=="function"&&x instanceof x)){b=false}}o["delete"](t);o["delete"](e);return b}function Ae(t){return de(t,ze,Ee)}function qe(t,e){var n=t.__data__;return $e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Oe(t,e){var n=it(t,e);return me(n)?n:undefined}function Me(t){var e=ft.call(t,xt),n=t[xt];try{t[xt]=undefined;var i=true}catch(t){}var s=vt.call(t);if(i){if(e){t[xt]=n}else{delete t[xt]}}return s}var Ee=!kt?We:function(t){if(t==null){return[]}t=Object(t);return Y(kt(t),(function(e){return wt.call(t,e)}))};var Te=ve;if(qt&&Te(new qt(new ArrayBuffer(1)))!=E||Ot&&Te(new Ot)!=b||Mt&&Te(Mt.resolve())!=w||Et&&Te(new Et)!=k||Tt&&Te(new Tt)!=O){Te=function(t){var e=ve(t),n=e==m?t.constructor:undefined,i=n?Ce(n):"";if(i){switch(i){case $t:return E;case Lt:return b;case _t:return w;case St:return k;case Ct:return O}}return e}}function Ne(t,e){e=e==null?o:e;return!!e&&(typeof t=="number"||V.test(t))&&(t>-1&&t%1==0&&t<e)}function $e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Le(t){return!!dt&&dt in t}function _e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ct;return t===n}function Se(t){return vt.call(t)}function Ce(t){if(t!=null){try{return ht.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ie(t,e){return t===e||t!==t&&e!==e}var Be=be(function(){return arguments}())?be:function(t){return Ze(t)&&ft.call(t,"callee")&&!wt.call(t,"callee")};var Re=Array.isArray;function De(t){return t!=null&&Ue(t.length)&&!Fe(t)}var Ve=jt||Ge;function He(t,e){return pe(t,e)}function Fe(t){if(!Pe(t)){return false}var e=ve(t);return e==d||e==v||e==c||e==g}function Ue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o}function Pe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ze(t){return t!=null&&typeof t=="object"}var Ke=Q?et(Q):we;function ze(t){return De(t)?he(t):ge(t)}function We(){return[]}function Ge(){return false}t.exports=He})(ml,ml.exports);var wl={};Object.defineProperty(wl,"__esModule",{value:true});const gl=yl.exports;const xl=ml.exports;var kl;(function(t){function e(t={},e={},n=false){if(typeof t!=="object"){t={}}if(typeof e!=="object"){e={}}let i=gl(e);if(!n){i=Object.keys(i).reduce(((t,e)=>{if(i[e]!=null){t[e]=i[e]}return t}),{})}for(const n in t){if(t[n]!==undefined&&e[n]===undefined){i[n]=t[n]}}return Object.keys(i).length>0?i:undefined}t.compose=e;function n(t={},e={}){if(typeof t!=="object"){t={}}if(typeof e!=="object"){e={}}const n=Object.keys(t).concat(Object.keys(e)).reduce(((n,i)=>{if(!xl(t[i],e[i])){n[i]=e[i]===undefined?null:e[i]}return n}),{});return Object.keys(n).length>0?n:undefined}t.diff=n;function i(t={},e={}){t=t||{};const n=Object.keys(e).reduce(((n,i)=>{if(e[i]!==t[i]&&t[i]!==undefined){n[i]=e[i]}return n}),{});return Object.keys(t).reduce(((n,i)=>{if(t[i]!==e[i]&&e[i]===undefined){n[i]=null}return n}),n)}t.invert=i;function s(t,e,n=false){if(typeof t!=="object"){return e}if(typeof e!=="object"){return undefined}if(!n){return e}const i=Object.keys(e).reduce(((n,i)=>{if(t[i]===undefined){n[i]=e[i]}return n}),{});return Object.keys(i).length>0?i:undefined}t.transform=s})(kl||(kl={}));wl.default=kl;var jl={};Object.defineProperty(jl,"__esModule",{value:true});var Al;(function(t){function e(t){if(typeof t.delete==="number"){return t.delete}else if(typeof t.retain==="number"){return t.retain}else if(typeof t.retain==="object"&&t.retain!==null){return 1}else{return typeof t.insert==="string"?t.insert.length:1}}t.length=e})(Al||(Al={}));jl.default=Al;var ql={};Object.defineProperty(ql,"__esModule",{value:true});const Ol=jl;class Ml{constructor(t){this.ops=t;this.index=0;this.offset=0}hasNext(){return this.peekLength()<Infinity}next(t){if(!t){t=Infinity}const e=this.ops[this.index];if(e){const n=this.offset;const i=Ol.default.length(e);if(t>=i-n){t=i-n;this.index+=1;this.offset=0}else{this.offset+=t}if(typeof e.delete==="number"){return{delete:t}}else{const i={};if(e.attributes){i.attributes=e.attributes}if(typeof e.retain==="number"){i.retain=t}else if(typeof e.retain==="object"&&e.retain!==null){i.retain=e.retain}else if(typeof e.insert==="string"){i.insert=e.insert.substr(n,t)}else{i.insert=e.insert}return i}}else{return{retain:Infinity}}}peek(){return this.ops[this.index]}peekLength(){if(this.ops[this.index]){return Ol.default.length(this.ops[this.index])-this.offset}else{return Infinity}}peekType(){const t=this.ops[this.index];if(t){if(typeof t.delete==="number"){return"delete"}else if(typeof t.retain==="number"||typeof t.retain==="object"&&t.retain!==null){return"retain"}else{return"insert"}}return"retain"}rest(){if(!this.hasNext()){return[]}else if(this.offset===0){return this.ops.slice(this.index)}else{const t=this.offset;const e=this.index;const n=this.next();const i=this.ops.slice(this.index);this.offset=t;this.index=e;return[n].concat(i)}}}ql.default=Ml;(function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.AttributeMap=e.OpIterator=e.Op=void 0;const n=pl;const i=yl.exports;const s=ml.exports;const r=wl;e.AttributeMap=r.default;const o=jl;e.Op=o.default;const l=ql;e.OpIterator=l.default;const u=String.fromCharCode(0);const c=(t,e)=>{if(typeof t!=="object"||t===null){throw new Error(`cannot retain a ${typeof t}`)}if(typeof e!=="object"||e===null){throw new Error(`cannot retain a ${typeof e}`)}const n=Object.keys(t)[0];if(!n||n!==Object.keys(e)[0]){throw new Error(`embed types not matched: ${n} != ${Object.keys(e)[0]}`)}return[n,t[n],e[n]]};class a{constructor(t){if(Array.isArray(t)){this.ops=t}else if(t!=null&&Array.isArray(t.ops)){this.ops=t.ops}else{this.ops=[]}}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){const e=this.handlers[t];if(!e){throw new Error(`no handlers for embed type "${t}"`)}return e}insert(t,e){const n={};if(typeof t==="string"&&t.length===0){return this}n.insert=t;if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)}delete(t){if(t<=0){return this}return this.push({delete:t})}retain(t,e){if(typeof t==="number"&&t<=0){return this}const n={retain:t};if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)}push(t){let e=this.ops.length;let n=this.ops[e-1];t=i(t);if(typeof n==="object"){if(typeof t.delete==="number"&&typeof n.delete==="number"){this.ops[e-1]={delete:n.delete+t.delete};return this}if(typeof n.delete==="number"&&t.insert!=null){e-=1;n=this.ops[e-1];if(typeof n!=="object"){this.ops.unshift(t);return this}}if(s(t.attributes,n.attributes)){if(typeof t.insert==="string"&&typeof n.insert==="string"){this.ops[e-1]={insert:n.insert+t.insert};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}else if(typeof t.retain==="number"&&typeof n.retain==="number"){this.ops[e-1]={retain:n.retain+t.retain};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}}}if(e===this.ops.length){this.ops.push(t)}else{this.ops.splice(e,0,t)}return this}chop(){const t=this.ops[this.ops.length-1];if(t&&typeof t.retain==="number"&&!t.attributes){this.ops.pop()}return this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){const e=[];const n=[];this.forEach((i=>{const s=t(i)?e:n;s.push(i)}));return[e,n]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce(((t,e)=>{if(e.insert){return t+o.default.length(e)}else if(e.delete){return t-e.delete}return t}),0)}length(){return this.reduce(((t,e)=>t+o.default.length(e)),0)}slice(t=0,e=Infinity){const n=[];const i=new l.default(this.ops);let s=0;while(s<e&&i.hasNext()){let r;if(s<t){r=i.next(t-s)}else{r=i.next(e-s);n.push(r)}s+=o.default.length(r)}return new a(n)}compose(t){const e=new l.default(this.ops);const n=new l.default(t.ops);const i=[];const o=n.peek();if(o!=null&&typeof o.retain==="number"&&o.attributes==null){let t=o.retain;while(e.peekType()==="insert"&&e.peekLength()<=t){t-=e.peekLength();i.push(e.next())}if(o.retain-t>0){n.next(o.retain-t)}}const u=new a(i);while(e.hasNext()||n.hasNext()){if(n.peekType()==="insert"){u.push(n.next())}else if(e.peekType()==="delete"){u.push(e.next())}else{const t=Math.min(e.peekLength(),n.peekLength());const i=e.next(t);const o=n.next(t);if(o.retain){const l={};if(typeof i.retain==="number"){l.retain=typeof o.retain==="number"?t:o.retain}else{if(typeof o.retain==="number"){if(i.retain==null){l.insert=i.insert}else{l.retain=i.retain}}else{const t=i.retain==null?"insert":"retain";const[e,n,s]=c(i[t],o.retain);const r=a.getHandler(e);l[t]={[e]:r.compose(n,s,t==="retain")}}}const h=r.default.compose(i.attributes,o.attributes,typeof i.retain==="number");if(h){l.attributes=h}u.push(l);if(!n.hasNext()&&s(u.ops[u.ops.length-1],l)){const t=new a(e.rest());return u.concat(t).chop()}}else if(typeof o.delete==="number"&&(typeof i.retain==="number"||typeof i.retain==="object"&&i.retain!==null)){u.push(o)}}}return u.chop()}concat(t){const e=new a(this.ops.slice());if(t.ops.length>0){e.push(t.ops[0]);e.ops=e.ops.concat(t.ops.slice(1))}return e}diff(t,e){if(this.ops===t.ops){return new a}const i=[this,t].map((e=>e.map((n=>{if(n.insert!=null){return typeof n.insert==="string"?n.insert:u}const i=e===t?"on":"with";throw new Error("diff() called "+i+" non-document")})).join("")));const o=new a;const c=n(i[0],i[1],e,true);const h=new l.default(this.ops);const f=new l.default(t.ops);c.forEach((t=>{let e=t[1].length;while(e>0){let i=0;switch(t[0]){case n.INSERT:i=Math.min(f.peekLength(),e);o.push(f.next(i));break;case n.DELETE:i=Math.min(e,h.peekLength());h.next(i);o.delete(i);break;case n.EQUAL:i=Math.min(h.peekLength(),f.peekLength(),e);const t=h.next(i);const l=f.next(i);if(s(t.insert,l.insert)){o.retain(i,r.default.diff(t.attributes,l.attributes))}else{o.push(l).delete(i)}break}e-=i}}));return o.chop()}eachLine(t,e="\n"){const n=new l.default(this.ops);let i=new a;let s=0;while(n.hasNext()){if(n.peekType()!=="insert"){return}const r=n.peek();const l=o.default.length(r)-n.peekLength();const u=typeof r.insert==="string"?r.insert.indexOf(e,l)-l:-1;if(u<0){i.push(n.next())}else if(u>0){i.push(n.next(u))}else{if(t(i,n.next(1).attributes||{},s)===false){return}s+=1;i=new a}}if(i.length()>0){t(i,{},s)}}invert(t){const e=new a;this.reduce(((n,i)=>{if(i.insert){e.delete(o.default.length(i))}else if(typeof i.retain==="number"&&i.attributes==null){e.retain(i.retain);return n+i.retain}else if(i.delete||typeof i.retain==="number"){const s=i.delete||i.retain;const l=t.slice(n,n+s);l.forEach((t=>{if(i.delete){e.push(t)}else if(i.retain&&i.attributes){e.retain(o.default.length(t),r.default.invert(i.attributes,t.attributes))}}));return n+s}else if(typeof i.retain==="object"&&i.retain!==null){const s=t.slice(n,n+1);const o=new l.default(s.ops).next();const[u,h,f]=c(i.retain,o.insert);const d=a.getHandler(u);e.retain({[u]:d.invert(h,f)},r.default.invert(i.attributes,o.attributes));return n+1}return n}),0);return e.chop()}transform(t,e=false){e=!!e;if(typeof t==="number"){return this.transformPosition(t,e)}const n=t;const i=new l.default(this.ops);const s=new l.default(n.ops);const u=new a;while(i.hasNext()||s.hasNext()){if(i.peekType()==="insert"&&(e||s.peekType()!=="insert")){u.retain(o.default.length(i.next()))}else if(s.peekType()==="insert"){u.push(s.next())}else{const t=Math.min(i.peekLength(),s.peekLength());const n=i.next(t);const o=s.next(t);if(n.delete){continue}else if(o.delete){u.push(o)}else{const i=n.retain;const s=o.retain;let l=typeof s==="object"&&s!==null?s:t;if(typeof i==="object"&&i!==null&&typeof s==="object"&&s!==null){const t=Object.keys(i)[0];if(t===Object.keys(s)[0]){const n=a.getHandler(t);if(n){l={[t]:n.transform(i[t],s[t],e)}}}}u.retain(l,r.default.transform(n.attributes,o.attributes,e))}}}return u.chop()}transformPosition(t,e=false){e=!!e;const n=new l.default(this.ops);let i=0;while(n.hasNext()&&i<=t){const s=n.peekLength();const r=n.peekType();n.next();if(r==="delete"){t-=Math.min(s,t-i);continue}else if(r==="insert"&&(i<t||!e)){t+=s}i+=s}return t}}a.Op=o.default;a.OpIterator=l.default;a.AttributeMap=r.default;a.handlers={};e.default=a;{t.exports=a;t.exports.default=a}})(Fo,Fo.exports);const El=Ho(Fo.exports);class Tl extends No{static value(){return undefined}optimize(){if(this.prev||this.next){this.remove()}}length(){return 0}value(){return""}}Tl.blotName="break";Tl.tagName="BR";class Nl extends Ro{}const $l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ll(t){return t.replace(/[&<>"']/g,(t=>$l[t]))}class _l extends ko{static allowedChildren=[_l,Tl,No,Nl];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const n=_l.order.indexOf(t);const i=_l.order.indexOf(e);if(n>=0||i>=0){return n-i}if(t===e){return 0}if(t<e){return-1}return 1}formatAt(t,e,n,i){if(_l.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Gr.BLOT)){const s=this.isolate(t,e);if(i){s.wrap(n,i)}}else{super.formatAt(t,e,n,i)}}optimize(t){super.optimize(t);if(this.parent instanceof _l&&_l.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t);t.wrap(this)}}}const Sl=1;class Cl extends qo{cache={};delta(){if(this.cache.delta==null){this.cache.delta=Bl(this)}return this.cache.delta}deleteAt(t,e){super.deleteAt(t,e);this.cache={}}formatAt(t,e,n,i){if(e<=0)return;if(this.scroll.query(n,Gr.BLOCK)){if(t+e===this.length()){this.format(n,i)}}else{super.formatAt(t,Math.min(e,this.length()-t-1),n,i)}this.cache={}}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);this.cache={};return}if(e.length===0)return;const i=e.split("\n");const s=i.shift();if(s.length>0){if(t<this.length()-1||this.children.tail==null){super.insertAt(Math.min(t,this.length()-1),s)}else{this.children.tail.insertAt(this.children.tail.length(),s)}this.cache={}}let r=this;i.reduce(((t,e)=>{r=r.split(t,true);r.insertAt(0,e);return e.length}),t+s.length)}insertBefore(t,e){const{head:n}=this.children;super.insertBefore(t,e);if(n instanceof Tl){n.remove()}this.cache={}}length(){if(this.cache.length==null){this.cache.length=super.length()+Sl}return this.cache.length}moveChildren(t,e){super.moveChildren(t,e);this.cache={}}optimize(t){super.optimize(t);this.cache={}}path(t){return super.path(t,true)}removeChild(t){super.removeChild(t);this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e&&(t===0||t>=this.length()-Sl)){const e=this.clone();if(t===0){this.parent.insertBefore(e,this);return this}this.parent.insertBefore(e,this.next);return e}const n=super.split(t,e);this.cache={};return n}}Cl.blotName="block";Cl.tagName="P";Cl.defaultChild=Tl;Cl.allowedChildren=[Tl,_l,No,Nl];class Il extends No{attach(){super.attach();this.attributes=new lo(this.domNode)}delta(){return(new El).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,Gr.BLOCK_ATTRIBUTE);if(n!=null){this.attributes.attribute(n,e)}}formatAt(t,e,n,i){this.format(n,i)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const i=e.split("\n");const s=i.pop();const r=i.map((t=>{const e=this.scroll.create(Cl.blotName);e.insertAt(0,t);return e}));const o=this.split(t);r.forEach((t=>{this.parent.insertBefore(t,o)}));if(s){this.parent.insertBefore(this.scroll.create("text",s),o)}}}Il.scope=Gr.BLOCK_BLOT;function Bl(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return t.descendants(fo).reduce(((t,n)=>{if(n.length()===0){return t}return t.insert(n.value(),Rl(n,{},e))}),new El).insert("\n",Rl(t))}function Rl(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t==null)return e;if("formats"in t&&typeof t.formats==="function"){e={...e,...t.formats()};if(n){delete e["code-token"]}}if(t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope){return e}return Rl(t.parent,e,n)}class Dl extends No{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){return undefined}constructor(t,e,n){super(t,e);this.selection=n;this.textNode=document.createTextNode(Dl.CONTENTS);this.domNode.appendChild(this.textNode);this.savedLength=0}detach(){if(this.parent!=null)this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this;let i=0;while(n!=null&&n.statics.scope!==Gr.BLOCK_BLOT){i+=n.offset(n.parent);n=n.parent}if(n!=null){this.savedLength=Dl.CONTENTS.length;n.optimize();n.formatAt(i,Dl.CONTENTS.length,t,e);this.savedLength=0}}index(t,e){if(t===this.textNode)return 0;return super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove();this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode){this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode)}const e=this.prev instanceof Nl?this.prev:null;const n=e?e.length():0;const i=this.next instanceof Nl?this.next:null;const s=i?i.text:"";const{textNode:r}=this;const o=r.data.split(Dl.CONTENTS).join("");r.data=Dl.CONTENTS;let l;if(e){l=e;if(o||i){e.insertAt(e.length(),o+s);if(i){i.remove()}}}else if(i){l=i;i.insertAt(0,o)}else{const t=document.createTextNode(o);l=this.scroll.create(t);this.parent.insertBefore(l,this)}this.remove();if(t){const s=(t,s)=>{if(e&&t===e.domNode){return s}if(t===r){return n+s-1}if(i&&t===i.domNode){return n+o.length+s}return null};const u=s(t.start.node,t.start.offset);const c=s(t.end.node,t.end.offset);if(u!==null&&c!==null){return{startNode:l.domNode,startOffset:u,endNode:l.domNode,endOffset:c}}}return null}update(t,e){if(t.some((t=>t.type==="characterData"&&t.target===this.textNode))){const t=this.restore();if(t)e.range=t}}optimize(t){super.optimize(t);let{parent:e}=this;while(e){if(e.domNode.tagName==="A"){this.savedLength=Dl.CONTENTS.length;e.isolate(this.offset(e),this.length()).unwrap();this.savedLength=0;break}e=e.parent}}value(){return""}}var Vl={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}if(Object.create){i.prototype=Object.create(null);if(!(new i).__proto__)n=false}function s(t,e,n){this.fn=t;this.context=e;this.once=n||false}function r(t,e,i,r,o){if(typeof i!=="function"){throw new TypeError("The listener must be a function")}var l=new s(i,r||t,o),u=n?n+e:e;if(!t._events[u])t._events[u]=l,t._eventsCount++;else if(!t._events[u].fn)t._events[u].push(l);else t._events[u]=[t._events[u],l];return t}function o(t,e){if(--t._eventsCount===0)t._events=new i;else delete t._events[e]}function l(){this._events=new i;this._eventsCount=0}l.prototype.eventNames=function t(){var i=[],s,r;if(this._eventsCount===0)return i;for(r in s=this._events){if(e.call(s,r))i.push(n?r.slice(1):r)}if(Object.getOwnPropertySymbols){return i.concat(Object.getOwnPropertySymbols(s))}return i};l.prototype.listeners=function t(e){var i=n?n+e:e,s=this._events[i];if(!s)return[];if(s.fn)return[s.fn];for(var r=0,o=s.length,l=new Array(o);r<o;r++){l[r]=s[r].fn}return l};l.prototype.listenerCount=function t(e){var i=n?n+e:e,s=this._events[i];if(!s)return 0;if(s.fn)return 1;return s.length};l.prototype.emit=function t(e,i,s,r,o,l){var u=n?n+e:e;if(!this._events[u])return false;var c=this._events[u],a=arguments.length,h,f;if(c.fn){if(c.once)this.removeListener(e,c.fn,undefined,true);switch(a){case 1:return c.fn.call(c.context),true;case 2:return c.fn.call(c.context,i),true;case 3:return c.fn.call(c.context,i,s),true;case 4:return c.fn.call(c.context,i,s,r),true;case 5:return c.fn.call(c.context,i,s,r,o),true;case 6:return c.fn.call(c.context,i,s,r,o,l),true}for(f=1,h=new Array(a-1);f<a;f++){h[f-1]=arguments[f]}c.fn.apply(c.context,h)}else{var d=c.length,v;for(f=0;f<d;f++){if(c[f].once)this.removeListener(e,c[f].fn,undefined,true);switch(a){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,i);break;case 3:c[f].fn.call(c[f].context,i,s);break;case 4:c[f].fn.call(c[f].context,i,s,r);break;default:if(!h)for(v=1,h=new Array(a-1);v<a;v++){h[v-1]=arguments[v]}c[f].fn.apply(c[f].context,h)}}}return true};l.prototype.on=function t(e,n,i){return r(this,e,n,i,false)};l.prototype.once=function t(e,n,i){return r(this,e,n,i,true)};l.prototype.removeListener=function t(e,i,s,r){var l=n?n+e:e;if(!this._events[l])return this;if(!i){o(this,l);return this}var u=this._events[l];if(u.fn){if(u.fn===i&&(!r||u.once)&&(!s||u.context===s)){o(this,l)}}else{for(var c=0,a=[],h=u.length;c<h;c++){if(u[c].fn!==i||r&&!u[c].once||s&&u[c].context!==s){a.push(u[c])}}if(a.length)this._events[l]=a.length===1?a[0]:a;else o(this,l)}return this};l.prototype.removeAllListeners=function t(e){var s;if(e){s=n?n+e:e;if(this._events[s])o(this,s)}else{this._events=new i;this._eventsCount=0}return this};l.prototype.off=l.prototype.removeListener;l.prototype.addListener=l.prototype.on;l.prefixed=n;l.EventEmitter=l;{t.exports=l}})(Vl);const Hl=new WeakMap;const Fl=["error","warn","log","info"];let Ul="warn";function Pl(t){if(Ul){if(Fl.indexOf(t)<=Fl.indexOf(Ul)){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}console[t](...n)}}}function Zl(t){return Fl.reduce(((e,n)=>{e[n]=Pl.bind(console,n,t);return e}),{})}Zl.level=t=>{Ul=t};Pl.level=Zl.level;const Kl=Zl("quill:events");const zl=["selectionchange","mousedown","mouseup","click"];zl.forEach((t=>{document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}Array.from(document.querySelectorAll(".ql-container")).forEach((t=>{const n=Hl.get(t);if(n&&n.emitter){n.emitter.handleDOM(...e)}}))}))}));class Wl extends Vl.exports.EventEmitter{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super();this.domListeners={};this.on("error",Kl.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}Kl.log.call(Kl,...e);return super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}(this.domListeners[t.type]||[]).forEach((e=>{let{node:i,handler:s}=e;if(t.target===i||i.contains(t.target)){s(t,...n)}}))}listenDOM(t,e,n){if(!this.domListeners[t]){this.domListeners[t]=[]}this.domListeners[t].push({node:e,handler:n})}}const Gl=Zl("quill:selection");class Ql{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.index=t;this.length=e}}class Yl{constructor(t,e){this.emitter=e;this.scroll=t;this.composing=false;this.mouseDown=false;this.root=this.scroll.domNode;this.cursor=this.scroll.create("cursor",this);this.savedRange=new Ql(0,0);this.lastRange=this.savedRange;this.lastNative=null;this.handleComposition();this.handleDragging();this.emitter.listenDOM("selectionchange",document,(()=>{if(!this.mouseDown&&!this.composing){setTimeout(this.update.bind(this,Wl.sources.USER),1)}}));this.emitter.on(Wl.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const t=this.getNativeRange();if(t==null)return;if(t.start.node===this.cursor.textNode)return;this.emitter.once(Wl.events.SCROLL_UPDATE,((e,n)=>{try{if(this.root.contains(t.start.node)&&this.root.contains(t.end.node)){this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}const i=n.some((t=>t.type==="characterData"||t.type==="childList"||t.type==="attributes"&&t.target===this.root));this.update(i?Wl.sources.SILENT:e)}catch(t){}}))}));this.emitter.on(Wl.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:n,endNode:i,endOffset:s}=e.range;this.setNativeRange(t,n,i,s);this.update(Wl.sources.SILENT)}}));this.update(Wl.sources.SILENT)}handleComposition(){this.emitter.on(Wl.events.COMPOSITION_BEFORE_START,(()=>{this.composing=true}));this.emitter.on(Wl.events.COMPOSITION_END,(()=>{this.composing=false;if(this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=true}));this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=false;this.update(Wl.sources.USER)}))}focus(){if(this.hasFocus())return;this.root.focus({preventScroll:true});this.setRange(this.savedRange)}format(t,e){this.scroll.update();const n=this.getNativeRange();if(n==null||!n.native.collapsed||this.scroll.query(t,Gr.BLOCK))return;if(n.start.node!==this.cursor.textNode){const t=this.scroll.find(n.start.node,false);if(t==null)return;if(t instanceof fo){const e=t.split(n.start.offset);t.parent.insertBefore(this.cursor,e)}else{t.insertBefore(this.cursor,n.start.node)}this.cursor.attach()}this.cursor.format(t,e);this.scroll.optimize();this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length);this.update()}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1);e=Math.min(t+e,n-1)-t;let i;let[s,r]=this.scroll.leaf(t);if(s==null)return null;if(e>0&&r===s.length()){const[e]=this.scroll.leaf(t+1);if(e){const[n]=this.scroll.line(t);const[i]=this.scroll.line(t+1);if(n===i){s=e;r=0}}}[i,r]=s.position(r,true);const o=document.createRange();if(e>0){o.setStart(i,r);[s,r]=this.scroll.leaf(t+e);if(s==null)return null;[i,r]=s.position(r,true);o.setEnd(i,r);return o.getBoundingClientRect()}let l="left";let u;if(i instanceof Text){if(!i.data.length){return null}if(r<i.data.length){o.setStart(i,r);o.setEnd(i,r+1)}else{o.setStart(i,r-1);o.setEnd(i,r);l="right"}u=o.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;u=s.domNode.getBoundingClientRect();if(r>0)l="right"}return{bottom:u.top+u.height,height:u.height,left:u[l],right:u[l],top:u.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);Gl.info("getNativeRange",n);return n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected){return[null,null]}const e=this.getNativeRange();if(e==null)return[null,null];const n=this.normalizedToRange(e);return[n,e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Xl(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];if(!t.native.collapsed){e.push([t.end.node,t.end.offset])}const n=e.map((t=>{const[e,n]=t;const i=this.scroll.find(e,true);const s=i.offset(this.scroll);if(n===0){return s}if(i instanceof fo){return s+i.index(e,n)}return s+i.length()}));const i=Math.min(Math.max(...n),this.scroll.length()-1);const s=Math.min(i,...n);return new Ql(s,i-s)}normalizeNative(t){if(!Xl(this.root,t.startContainer)||!t.collapsed&&!Xl(this.root,t.endContainer)){return null}const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};[e.start,e.end].forEach((t=>{let{node:e,offset:n}=t;while(!(e instanceof Text)&&e.childNodes.length>0){if(e.childNodes.length>n){e=e.childNodes[n];n=0}else if(e.childNodes.length===n){e=e.lastChild;if(e instanceof Text){n=e.data.length}else if(e.childNodes.length>0){n=e.childNodes.length}else{n=e.childNodes.length+1}}else{break}}t.node=e;t.offset=n}));return e}rangeToNative(t){const e=this.scroll.length();const n=(t,n)=>{t=Math.min(e-1,t);const[i,s]=this.scroll.leaf(t);return i?i.position(s,n):[null,-1]};return[...n(t.index,false),...n(t.index+t.length,true)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;Gl.info("setNativeRange",t,e,n,i);if(t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null)){return}const r=document.getSelection();if(r==null)return;if(t!=null){if(!this.hasFocus())this.root.focus({preventScroll:true});const{native:o}=this.getNativeRange()||{};if(o==null||s||t!==o.startContainer||e!==o.startOffset||n!==o.endContainer||i!==o.endOffset){if(t instanceof Element&&t.tagName==="BR"){e=Array.from(t.parentNode.childNodes).indexOf(t);t=t.parentNode}if(n instanceof Element&&n.tagName==="BR"){i=Array.from(n.parentNode.childNodes).indexOf(n);n=n.parentNode}const s=document.createRange();s.setStart(t,e);s.setEnd(n,i);r.removeAllRanges();r.addRange(s)}}else{r.removeAllRanges();this.root.blur()}}setRange(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Wl.sources.API;if(typeof e==="string"){n=e;e=false}Gl.info("setRange",t);if(t!=null){const n=this.rangeToNative(t);this.setNativeRange(...n,e)}else{this.setNativeRange(null)}this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Wl.sources.USER;const e=this.lastRange;const[n,i]=this.getRange();this.lastRange=n;this.lastNative=i;if(this.lastRange!=null){this.savedRange=this.lastRange}if(!Kr(e,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const t=this.cursor.restore();if(t){this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}}const n=[Wl.events.SELECTION_CHANGE,Ys(this.lastRange),Ys(e),t];this.emitter.emit(Wl.events.EDITOR_CHANGE,...n);if(t!==Wl.sources.SILENT){this.emitter.emit(...n)}}}}function Xl(t,e){return t.contains(e)}const Jl=/^[ -~]*$/;class tu{constructor(t){this.scroll=t;this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=ru(t);const i=new El;const s=lu(n.ops.slice());s.reduce(((t,n)=>{const s=Fo.exports.Op.length(n);let r=n.attributes||{};let o=false;let l=false;if(n.insert!=null){i.retain(s);if(typeof n.insert==="string"){const i=n.insert;l=!i.endsWith("\n")&&(e<=t||!!this.scroll.descendant(Il,t)[0]);this.scroll.insertAt(t,i);const[s,o]=this.scroll.line(t);let u=Wr({},Rl(s));if(s instanceof Cl){const[t]=s.descendant(fo,o);if(t){u=Wr(u,Rl(t))}}r=Fo.exports.AttributeMap.diff(u,r)||{}}else if(typeof n.insert==="object"){const i=Object.keys(n.insert)[0];if(i==null)return t;const s=this.scroll.query(i,Gr.INLINE)!=null;if(s){if(e<=t||!!this.scroll.descendant(Il,t)[0]){l=true}}else if(t>0){const[e,n]=this.scroll.descendant(fo,t-1);if(e instanceof Nl){const t=e.value();if(t[n]!=="\n"){o=true}}else if(e instanceof No&&e.statics.scope===Gr.INLINE_BLOT){o=true}}this.scroll.insertAt(t,i,n.insert[i]);if(s){const[e]=this.scroll.descendant(fo,t);if(e){const t=Wr({},Rl(e));r=Fo.exports.AttributeMap.diff(t,r)||{}}}}e+=s}else{i.push(n);if(n.retain!==null&&typeof n.retain==="object"){const e=Object.keys(n.retain)[0];if(e==null)return t;this.scroll.updateEmbedAt(t,e,n.retain[e])}}Object.keys(r).forEach((e=>{this.scroll.formatAt(t,s,e,r[e])}));const u=o?1:0;const c=l?1:0;e+=u+c;i.retain(u);i.delete(c);return t+s+u+c}),0);i.reduce(((t,e)=>{if(typeof e.delete==="number"){this.scroll.deleteAt(t,e.delete);return t}return t+Fo.exports.Op.length(e)}),0);this.scroll.batchEnd();this.scroll.optimize();return this.update(n)}deleteText(t,e){this.scroll.deleteAt(t,e);return this.update((new El).retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.scroll.update();Object.keys(n).forEach((i=>{this.scroll.lines(t,Math.max(e,1)).forEach((t=>{t.format(i,n[i])}))}));this.scroll.optimize();const i=(new El).retain(t).retain(e,Ys(n));return this.update(i)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Object.keys(n).forEach((i=>{this.scroll.formatAt(t,e,i,n[i])}));const i=(new El).retain(t).retain(e,Ys(n));return this.update(i)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new El)}getFormat(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let n=[];let i=[];if(e===0){this.scroll.path(t).forEach((t=>{const[e]=t;if(e instanceof Cl){n.push(e)}else if(e instanceof fo){i.push(e)}}))}else{n=this.scroll.lines(t,e);i=this.scroll.descendants(fo,t,e)}const[s,r]=[n,i].map((t=>{const e=t.shift();if(e==null)return{};let n=Rl(e);while(Object.keys(n).length>0){const e=t.shift();if(e==null)return n;n=iu(Rl(e),n)}return n}));return{...s,...r}}getHTML(t,e){const[n,i]=this.scroll.line(t);if(n){const s=n.length();const r=n.length()>=i+e;if(r&&!(i===0&&e===s)){return nu(n,i,e,true)}return nu(this.scroll,t,e,true)}return""}getText(t,e){return this.getContents(t,e).filter((t=>typeof t.insert==="string")).map((t=>t.insert)).join("")}insertContents(t,e){const n=ru(e);const i=(new El).retain(t).concat(n);this.scroll.insertContents(t,n);return this.update(i)}insertEmbed(t,e,n){this.scroll.insertAt(t,e,n);return this.update((new El).retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");this.scroll.insertAt(t,e);Object.keys(n).forEach((i=>{this.scroll.formatAt(t,e.length,i,n[i])}));return this.update((new El).retain(t).insert(e,Ys(n)))}isBlank(){if(this.scroll.children.length===0)return true;if(this.scroll.children.length>1)return false;const t=this.scroll.children.head;if(t?.statics.blotName!==Cl.blotName)return false;const e=t;if(e.children.length>1)return false;return e.children.head instanceof Tl}removeFormat(t,e){const n=this.getText(t,e);const[i,s]=this.scroll.line(t+e);let r=0;let o=new El;if(i!=null){r=i.length()-s;o=i.delta().slice(s,s+r-1).insert("\n")}const l=this.getContents(t,e+r);const u=l.diff((new El).insert(n).concat(o));const c=(new El).retain(t).concat(u);return this.applyDelta(c)}update(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;const i=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Jl)&&this.scroll.find(e[0].target)){const s=this.scroll.find(e[0].target);const r=Rl(s);const o=s.offset(this.scroll);const l=e[0].oldValue.replace(Dl.CONTENTS,"");const u=(new El).insert(l);const c=(new El).insert(s.value());const a=n&&{oldRange:ou(n.oldRange,-o),newRange:ou(n.newRange,-o)};const h=(new El).retain(o).concat(u.diff(c,a));t=h.reduce(((t,e)=>{if(e.insert){return t.insert(e.insert,r)}return t.push(e)}),new El);this.delta=i.compose(t)}else{this.delta=this.getDelta();if(!t||!Kr(i.compose(t),this.delta)){t=i.diff(this.delta,n)}}return t}}function eu(t,e,n){if(t.length===0){const[t]=su(n.pop());if(e<=0){return`</li></${t}>`}return`</li></${t}>${eu([],e-1,n)}`}const[{child:i,offset:s,length:r,indent:o,type:l},...u]=t;const[c,a]=su(l);if(o>e){n.push(l);if(o===e+1){return`<${c}><li${a}>${nu(i,s,r)}${eu(u,o,n)}`}return`<${c}><li>${eu(t,e+1,n)}`}const h=n[n.length-1];if(o===e&&l===h){return`</li><li${a}>${nu(i,s,r)}${eu(u,o,n)}`}const[f]=su(n.pop());return`</li></${f}>${eu(t,e-1,n)}`}function nu(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if("html"in t&&typeof t.html==="function"){return t.html(e,n)}if(t instanceof Nl){const i=Ll(t.value().slice(e,e+n));return i.replaceAll(" ","&nbsp;")}if(t instanceof mo){if(t.statics.blotName==="list-container"){const i=[];t.children.forEachAt(e,n,((t,e,n)=>{const s="formats"in t&&typeof t.formats==="function"?t.formats():{};i.push({child:t,offset:e,length:n,indent:s.indent||0,type:s.list})}));return eu(i,-1,[])}const s=[];t.children.forEachAt(e,n,((t,e,n)=>{s.push(nu(t,e,n))}));if(i||t.statics.blotName==="list"){return s.join("")}const{outerHTML:r,innerHTML:o}=t.domNode;const[l,u]=r.split(`>${o}<`);if(l==="<table"){return`<table style="border: 1px solid #000;">${s.join("")}<${u}`}return`${l}>${s.join("")}<${u}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function iu(t,e){return Object.keys(e).reduce(((n,i)=>{if(t[i]==null)return n;const s=e[i];if(s===t[i]){n[i]=s}else if(Array.isArray(s)){if(s.indexOf(t[i])<0){n[i]=s.concat([t[i]])}else{n[i]=s}}else{n[i]=[s,t[i]]}return n}),{})}function su(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function ru(t){return t.reduce(((t,e)=>{if(typeof e.insert==="string"){const n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new El)}function ou(t,e){let{index:n,length:i}=t;return new Ql(n+e,i)}function lu(t){const e=[];t.forEach((t=>{if(typeof t.insert==="string"){const n=t.insert.split("\n");n.forEach(((n,i)=>{if(i)e.push({insert:"\n",attributes:t.attributes});if(n)e.push({insert:n,attributes:t.attributes})}))}else{e.push(t)}}));return e}class uu{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.quill=t;this.options=e}}const cu="\ufeff";class au extends No{constructor(t,e){super(t,e);this.contentNode=document.createElement("span");this.contentNode.setAttribute("contenteditable","false");Array.from(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)}));this.leftGuard=document.createTextNode(cu);this.rightGuard=document.createTextNode(cu);this.domNode.appendChild(this.leftGuard);this.domNode.appendChild(this.contentNode);this.domNode.appendChild(this.rightGuard)}index(t,e){if(t===this.leftGuard)return 0;if(t===this.rightGuard)return 1;return super.index(t,e)}restore(t){let e=null;let n;const i=t.data.split(cu).join("");if(t===this.leftGuard){if(this.prev instanceof Nl){const t=this.prev.length();this.prev.insertAt(t,i);e={startNode:this.prev.domNode,startOffset:t+i.length}}else{n=document.createTextNode(i);this.parent.insertBefore(this.scroll.create(n),this);e={startNode:n,startOffset:i.length}}}else if(t===this.rightGuard){if(this.next instanceof Nl){this.next.insertAt(0,i);e={startNode:this.next.domNode,startOffset:i.length}}else{n=document.createTextNode(i);this.parent.insertBefore(this.scroll.create(n),this.next);e={startNode:n,startOffset:i.length}}}t.data=cu;return e}update(t,e){t.forEach((t=>{if(t.type==="characterData"&&(t.target===this.leftGuard||t.target===this.rightGuard)){const n=this.restore(t.target);if(n)e.range=n}}))}}class hu{isComposing=false;constructor(t,e){this.scroll=t;this.emitter=e;this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(t=>{if(!this.isComposing){this.handleCompositionStart(t)}}));this.scroll.domNode.addEventListener("compositionend",(t=>{if(this.isComposing){queueMicrotask((()=>{this.handleCompositionEnd(t)}))}}))}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,true):null;if(e&&!(e instanceof au)){this.emitter.emit(Wl.events.COMPOSITION_BEFORE_START,t);this.scroll.batchStart();this.emitter.emit(Wl.events.COMPOSITION_START,t);this.isComposing=true}}handleCompositionEnd(t){this.emitter.emit(Wl.events.COMPOSITION_BEFORE_END,t);this.scroll.batchEnd();this.emitter.emit(Wl.events.COMPOSITION_END,t);this.isComposing=false}}class fu{static DEFAULTS={modules:{}};static themes={default:fu};modules={};constructor(t,e){this.quill=t;this.options=e}init(){Object.keys(this.options.modules).forEach((t=>{if(this.modules[t]==null){this.addModule(t)}}))}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);this.modules[t]=new e(this.quill,this.options.modules[t]||{});return this.modules[t]}}const du=t=>t.parentElement||t.getRootNode().host||null;const vu=t=>{const e=t.getBoundingClientRect();const n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1;const i="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*i,left:e.left}};const bu=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e};const pu=(t,e,n,i,s,r)=>{if(t<n&&e>i){return 0}if(t<n){return-(n-t+s)}if(e>i){return e-t>i-n?t+s-n:e-i+r}return 0};const yu=(t,e)=>{const n=t.ownerDocument;let i=e;let s=t;while(s){const t=s===n.body;const e=t?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:vu(s);const r=getComputedStyle(s);const o=pu(i.left,i.right,e.left,e.right,bu(r.scrollPaddingLeft),bu(r.scrollPaddingRight));const l=pu(i.top,i.bottom,e.top,e.bottom,bu(r.scrollPaddingTop),bu(r.scrollPaddingBottom));if(o||l){if(t){n.defaultView?.scrollBy(o,l)}else{const{scrollLeft:t,scrollTop:e}=s;if(l){s.scrollTop+=l}if(o){s.scrollLeft+=o}const n=s.scrollLeft-t;const r=s.scrollTop-e;i={left:i.left-n,top:i.top-r,right:i.right-n,bottom:i.bottom-r}}}s=t||r.position==="fixed"?null:du(s)}};const mu=100;const wu=["block","break","cursor","inline","scroll","text"];const gu=(t,e,n)=>{const i=new Jr;wu.forEach((t=>{const n=e.query(t);if(n)i.register(n)}));t.forEach((t=>{let s=e.query(t);if(!s){n.error(`Cannot register "${t}" specified in "formats" config. Are you sure it was registered?`)}let r=0;while(s){i.register(s);s="blotName"in s?s.requiredContainer??null:null;r+=1;if(r>mu){n.error(`Cycle detected in registering blot requiredContainer: "${t}"`);break}}}));return i};const xu=Zl("quill");const ku=new Jr;mo.uiClass="ql-ui";class ju{static DEFAULTS={bounds:null,modules:{clipboard:true,keyboard:true,history:true,uploader:true},placeholder:"",readOnly:false,registry:ku,theme:"default"};static events=Wl.events;static sources=Wl.sources;static version="2.0.3";static imports={delta:El,parchment:Do,"core/module":uu,"core/theme":fu};static debug(t){if(t===true){t="log"}Zl.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return Hl.get(t)||ku.find(t,e)}static import(t){if(this.imports[t]==null){xu.error(`Cannot import ${t}. Are you sure it was registered?`)}return this.imports[t]}static register(){if(typeof(arguments.length<=0?undefined:arguments[0])!=="string"){const t=arguments.length<=0?undefined:arguments[0];const e=!!(arguments.length<=1?undefined:arguments[1]);const n="attrName"in t?t.attrName:t.blotName;if(typeof n==="string"){this.register(`formats/${n}`,t,e)}else{Object.keys(t).forEach((n=>{this.register(n,t[n],e)}))}}else{const t=arguments.length<=0?undefined:arguments[0];const e=arguments.length<=1?undefined:arguments[1];const n=!!(arguments.length<=2?undefined:arguments[2]);if(this.imports[t]!=null&&!n){xu.warn(`Overwriting ${t} with`,e)}this.imports[t]=e;if((t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!=="boolean"&&e.blotName!=="abstract"){ku.register(e)}if(typeof e.register==="function"){e.register(ku)}}}constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.options=Mu(t,e);this.container=this.options.container;if(this.container==null){xu.error("Invalid Quill container",t);return}if(this.options.debug){ju.debug(this.options.debug)}const n=this.container.innerHTML.trim();this.container.classList.add("ql-container");this.container.innerHTML="";Hl.set(this.container,this);this.root=this.addContainer("ql-editor");this.root.classList.add("ql-blank");this.emitter=new Wl;const i=Co.blotName;const s=this.options.registry.query(i);if(!s||!("blotName"in s)){throw new Error(`Cannot initialize Quill without "${i}" blot`)}this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter});this.editor=new tu(this.scroll);this.selection=new Yl(this.scroll,this.emitter);this.composition=new hu(this.scroll,this.emitter);this.theme=new this.options.theme(this,this.options);this.keyboard=this.theme.addModule("keyboard");this.clipboard=this.theme.addModule("clipboard");this.history=this.theme.addModule("history");this.uploader=this.theme.addModule("uploader");this.theme.addModule("input");this.theme.addModule("uiNode");this.theme.init();this.emitter.on(Wl.events.EDITOR_CHANGE,(t=>{if(t===Wl.events.TEXT_CHANGE){this.root.classList.toggle("ql-blank",this.editor.isBlank())}}));this.emitter.on(Wl.events.SCROLL_UPDATE,((t,e)=>{const n=this.selection.lastRange;const[i]=this.selection.getRange();const s=n&&i?{oldRange:n,newRange:i}:undefined;Eu.call(this,(()=>this.editor.update(null,e,s)),t)}));this.emitter.on(Wl.events.SCROLL_EMBED_UPDATE,((t,e)=>{const n=this.selection.lastRange;const[i]=this.selection.getRange();const s=n&&i?{oldRange:n,newRange:i}:undefined;Eu.call(this,(()=>{const n=(new El).retain(t.offset(this)).retain({[t.statics.blotName]:e});return this.editor.update(n,[],s)}),ju.sources.USER)}));if(n){const t=this.clipboard.convert({html:`${n}<p><br></p>`,text:"\n"});this.setContents(t)}this.history.clear();if(this.options.placeholder){this.root.setAttribute("data-placeholder",this.options.placeholder)}if(this.options.readOnly){this.disable()}this.allowReadOnlyEdits=false}addContainer(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof t==="string"){const e=t;t=document.createElement("div");t.classList.add(e)}this.container.insertBefore(t,e);return t}blur(){this.selection.setRange(null)}deleteText(t,e,n){[t,e,,n]=Tu(t,e,n);return Eu.call(this,(()=>this.editor.deleteText(t,e)),n,t,-1*e)}disable(){this.enable(false)}editReadOnly(t){this.allowReadOnlyEdits=true;const e=t();this.allowReadOnlyEdits=false;return e}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.scroll.enable(t);this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.selection.focus();if(!t.preventScroll){this.scrollSelectionIntoView()}}format(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Wl.sources.API;return Eu.call(this,(()=>{const n=this.getSelection(true);let i=new El;if(n==null)return i;if(this.scroll.query(t,Gr.BLOCK)){i=this.editor.formatLine(n.index,n.length,{[t]:e})}else if(n.length===0){this.selection.format(t,e);return i}else{i=this.editor.formatText(n.index,n.length,{[t]:e})}this.setSelection(n,Wl.sources.SILENT);return i}),n)}formatLine(t,e,n,i,s){let r;[t,e,r,s]=Tu(t,e,n,i,s);return Eu.call(this,(()=>this.editor.formatLine(t,e,r)),s,t,0)}formatText(t,e,n,i,s){let r;[t,e,r,s]=Tu(t,e,n,i,s);return Eu.call(this,(()=>this.editor.formatText(t,e,r)),s,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let n=null;if(typeof t==="number"){n=this.selection.getBounds(t,e)}else{n=this.selection.getBounds(t.index,t.length)}if(!n)return null;const i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-t;[t,e]=Tu(t,e);return this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getSelection(true);let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof t==="number"){return this.editor.getFormat(t,e)}return this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;if(typeof t!=="number"){return this.scroll.lines(t.index,t.length)}return this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t)this.focus();this.update();return this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=Tu(t,e);return this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=Tu(t,e);return this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:ju.sources.API;return Eu.call(this,(()=>this.editor.insertEmbed(t,e,n)),i,t)}insertText(t,e,n,i,s){let r;[t,,r,s]=Tu(t,0,n,i,s);return Eu.call(this,(()=>this.editor.insertText(t,e,r)),s,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){[t,e,,n]=Tu(t,e,n);return Eu.call(this,(()=>this.editor.removeFormat(t,e)),n,t)}scrollRectIntoView(t){yu(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead.");this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange;const e=t&&this.selection.getBounds(t.index,t.length);if(e){this.scrollRectIntoView(e)}}setContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Wl.sources.API;return Eu.call(this,(()=>{t=new El(t);const e=this.getLength();const n=this.editor.deleteText(0,e);const i=this.editor.insertContents(0,t);const s=this.editor.deleteText(this.getLength()-1,1);return n.compose(i).compose(s)}),e)}setSelection(t,e,n){if(t==null){this.selection.setRange(null,e||ju.sources.API)}else{[t,e,,n]=Tu(t,e,n);this.selection.setRange(new Ql(Math.max(0,t),e),n);if(n!==Wl.sources.SILENT){this.scrollSelectionIntoView()}}}setText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Wl.sources.API;const n=(new El).insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Wl.sources.USER;const e=this.scroll.update(t);this.selection.update(t);return e}updateContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Wl.sources.API;return Eu.call(this,(()=>{t=new El(t);return this.editor.applyDelta(t)}),e,true)}}function Au(t){return typeof t==="string"?document.querySelector(t):t}function qu(t){return Object.entries(t??{}).reduce(((t,e)=>{let[n,i]=e;return{...t,[n]:i===true?{}:i}}),{})}function Ou(t){return Object.fromEntries(Object.entries(t).filter((t=>t[1]!==undefined)))}function Mu(t,e){const n=Au(t);if(!n){throw new Error("Invalid Quill container")}const i=!e.theme||e.theme===ju.DEFAULTS.theme;const s=i?fu:ju.import(`themes/${e.theme}`);if(!s){throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}const{modules:r,...o}=ju.DEFAULTS;const{modules:l,...u}=s.DEFAULTS;let c=qu(e.modules);if(c!=null&&c.toolbar&&c.toolbar.constructor!==Object){c={...c,toolbar:{container:c.toolbar}}}const a=Wr({},qu(r),qu(l),c);const h={...o,...Ou(u),...Ou(e)};let f=e.registry;if(f){if(e.formats){xu.warn('Ignoring "formats" option because "registry" is specified')}}else{f=e.formats?gu(e.formats,h.registry,xu):h.registry}return{...h,registry:f,container:n,theme:s,modules:Object.entries(a).reduce(((t,e)=>{let[n,i]=e;if(!i)return t;const s=ju.import(`modules/${n}`);if(s==null){xu.error(`Cannot load ${n} module. Are you sure you registered it?`);return t}return{...t,[n]:Wr({},s.DEFAULTS||{},i)}}),{}),bounds:Au(h.bounds)}}function Eu(t,e,n,i){if(!this.isEnabled()&&e===Wl.sources.USER&&!this.allowReadOnlyEdits){return new El}let s=n==null?null:this.getSelection();const r=this.editor.delta;const o=t();if(s!=null){if(n===true){n=s.index}if(i==null){s=Nu(s,o,e)}else if(i!==0){s=Nu(s,n,i,e)}this.setSelection(s,Wl.sources.SILENT)}if(o.length()>0){const t=[Wl.events.TEXT_CHANGE,o,r,e];this.emitter.emit(Wl.events.EDITOR_CHANGE,...t);if(e!==Wl.sources.SILENT){this.emitter.emit(...t)}}return o}function Tu(t,e,n,i,s){let r={};if(typeof t.index==="number"&&typeof t.length==="number"){if(typeof e!=="number"){s=i;i=n;n=e;e=t.length;t=t.index}else{e=t.length;t=t.index}}else if(typeof e!=="number"){s=i;i=n;n=e;e=0}if(typeof n==="object"){r=n;s=i}else if(typeof n==="string"){if(i!=null){r[n]=i}else{s=n}}s=s||Wl.sources.API;return[t,e,r,s]}function Nu(t,e,n,i){const s=typeof n==="number"?n:0;if(t==null)return null;let r;let o;if(e&&typeof e.transformPosition==="function"){[r,o]=[t.index,t.index+t.length].map((t=>e.transformPosition(t,i!==Wl.sources.USER)))}else{[r,o]=[t.index,t.index+t.length].map((t=>{if(t<e||t===e&&i===Wl.sources.USER)return t;if(s>=0){return t+s}return Math.max(e,t+s)}))}return new Ql(r,o-r)}class $u extends Eo{}function Lu(t){return t instanceof Cl||t instanceof Il}function _u(t){return typeof t.updateContent==="function"}class Su extends Co{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Cl;static allowedChildren=[Cl,Il,$u];constructor(t,e,n){let{emitter:i}=n;super(t,e);this.emitter=i;this.batch=false;this.optimize();this.enable();this.domNode.addEventListener("dragstart",(t=>this.handleDragStart(t)))}batchStart(){if(!Array.isArray(this.batch)){this.batch=[]}}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=false;this.update(t)}emitMount(t){this.emitter.emit(Wl.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Wl.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(Wl.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,i]=this.line(t);const[s]=this.line(t+e);super.deleteAt(t,e);if(s!=null&&n!==s&&i>0){if(n instanceof Il||s instanceof Il){this.optimize();return}const t=s.children.head instanceof Tl?null:s.children.head;n.moveChildren(s,t);n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,i){super.formatAt(t,e,n,i);this.optimize()}insertAt(t,e,n){if(t>=this.length()){if(n==null||this.scroll.query(e,Gr.BLOCK)==null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t);if(n==null&&e.endsWith("\n")){t.insertAt(0,e.slice(0,-1),n)}else{t.insertAt(0,e,n)}}else{const t=this.scroll.create(e,n);this.appendChild(t)}}else{super.insertAt(t,e,n)}this.optimize()}insertBefore(t,e){if(t.statics.scope===Gr.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t);super.insertBefore(n,e)}else{super.insertBefore(t,e)}}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat((new El).insert("\n")));const i=n.pop();if(i==null)return;this.batchStart();const s=n.shift();if(s){const e=s.type==="block"&&(s.delta.length()===0||!this.descendant(Il,t)[0]&&t<this.length());const n=s.type==="block"?s.delta:(new El).insert({[s.key]:s.value});Cu(this,t,n);const i=s.type==="block"?1:0;const r=t+n.length()+i;if(e){this.insertAt(r-1,"\n")}const o=Rl(this.line(t)[0]);const l=Fo.exports.AttributeMap.diff(o,s.attributes)||{};Object.keys(l).forEach((t=>{this.formatAt(r-1,1,t,l[t])}));t=r}let[r,o]=this.children.find(t);if(n.length){if(r){r=r.split(o);o=0}n.forEach((t=>{if(t.type==="block"){const e=this.createBlock(t.attributes,r||undefined);Cu(e,0,t.delta)}else{const e=this.create(t.key,t.value);this.insertBefore(e,r||undefined);Object.keys(t.attributes).forEach((n=>{e.format(n,t.attributes[n])}))}}))}if(i.type==="block"&&i.delta.length()){const t=r?r.offset(r.scroll)+o:this.length();Cu(this,t,i.delta)}this.batchEnd();this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e){return[null,-1]}const[n,i]=e;return n instanceof fo?[n,i]:[null,-1]}line(t){if(t===this.length()){return this.line(t-1)}return this.descendant(Lu,t)}lines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;const n=(t,e,i)=>{let s=[];let r=i;t.children.forEachAt(e,i,((t,e,i)=>{if(Lu(t)){s.push(t)}else if(t instanceof Eo){s=s.concat(n(t,e,r))}r-=i}));return s};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.batch)return;super.optimize(t,e);if(t.length>0){this.emitter.emit(Wl.events.SCROLL_OPTIMIZE,t,e)}}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){if(Array.isArray(t)){this.batch=this.batch.concat(t)}return}let e=Wl.sources.USER;if(typeof t==="string"){e=t}if(!Array.isArray(t)){t=this.observer.takeRecords()}t=t.filter((t=>{let{target:e}=t;const n=this.find(e,true);return n&&!_u(n)}));if(t.length>0){this.emitter.emit(Wl.events.SCROLL_BEFORE_UPDATE,e,t)}super.update(t.concat([]));if(t.length>0){this.emitter.emit(Wl.events.SCROLL_UPDATE,e,t)}}updateEmbedAt(t,e,n){const[i]=this.descendant((t=>t instanceof Il),t);if(i&&i.statics.blotName===e&&_u(i)){i.updateContent(n)}}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new El;t.forEach((t=>{const i=t?.insert;if(!i)return;if(typeof i==="string"){const s=i.split("\n");s.slice(0,-1).forEach((i=>{n.insert(i,t.attributes);e.push({type:"block",delta:n,attributes:t.attributes??{}});n=new El}));const r=s[s.length-1];if(r){n.insert(r,t.attributes)}}else{const s=Object.keys(i)[0];if(!s)return;if(this.query(s,Gr.INLINE)){n.push(t)}else{if(n.length()){e.push({type:"block",delta:n,attributes:{}})}n=new El;e.push({type:"blockEmbed",key:s,value:i[s],attributes:t.attributes??{}})}}}));if(n.length()){e.push({type:"block",delta:n,attributes:{}})}return e}createBlock(t,e){let n;const i={};Object.entries(t).forEach((t=>{let[e,s]=t;const r=this.query(e,Gr.BLOCK&Gr.BLOT)!=null;if(r){n=e}else{i[e]=s}}));const s=this.create(n||this.statics.defaultChild.blotName,n?t[n]:undefined);this.insertBefore(s,e||undefined);const r=s.length();Object.entries(i).forEach((t=>{let[e,n]=t;s.formatAt(0,r,e,n)}));return s}}function Cu(t,e,n){n.reduce(((e,n)=>{const i=Fo.exports.Op.length(n);let s=n.attributes||{};if(n.insert!=null){if(typeof n.insert==="string"){const i=n.insert;t.insertAt(e,i);const[r]=t.descendant(fo,e);const o=Rl(r);s=Fo.exports.AttributeMap.diff(o,s)||{}}else if(typeof n.insert==="object"){const i=Object.keys(n.insert)[0];if(i==null)return e;t.insertAt(e,i,n.insert[i]);const r=t.scroll.query(i,Gr.INLINE)!=null;if(r){const[n]=t.descendant(fo,e);const i=Rl(n);s=Fo.exports.AttributeMap.diff(i,s)||{}}}}Object.keys(s).forEach((n=>{t.formatAt(e,i,n,s[n])}));return e+i}),e)}const Iu={scope:Gr.BLOCK,whitelist:["right","center","justify"]};const Bu=new Qr("align","align",Iu);const Ru=new no("align","ql-align",Iu);const Du=new ro("align","text-align",Iu);class Vu extends ro{value(t){let e=super.value(t);if(!e.startsWith("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");const n=e.split(",").map((t=>`00${parseInt(t,10).toString(16)}`.slice(-2))).join("");return`#${n}`}}const Hu=new no("color","ql-color",{scope:Gr.INLINE});const Fu=new Vu("color","color",{scope:Gr.INLINE});const Uu=new no("background","ql-bg",{scope:Gr.INLINE});const Pu=new Vu("background","background-color",{scope:Gr.INLINE});class Zu extends $u{static create(t){const e=super.create(t);e.setAttribute("spellcheck","false");return e}code(t,e){return this.children.map((t=>t.length()<=1?"":t.domNode.innerText)).join("\n").slice(t,t+e)}html(t,e){return`<pre>\n${Ll(this.code(t,e))}\n</pre>`}}class Ku extends Cl{static TAB="  ";static register(){ju.register(Zu)}}class zu extends _l{}zu.blotName="code";zu.tagName="CODE";Ku.blotName="code-block";Ku.className="ql-code-block";Ku.tagName="DIV";Zu.blotName="code-block-container";Zu.className="ql-code-block-container";Zu.tagName="DIV";Zu.allowedChildren=[Ku];Ku.allowedChildren=[Nl,Tl,Dl];Ku.requiredContainer=Zu;const Wu={scope:Gr.BLOCK,whitelist:["rtl"]};const Gu=new Qr("direction","dir",Wu);const Qu=new no("direction","ql-direction",Wu);const Yu=new ro("direction","direction",Wu);const Xu={scope:Gr.INLINE,whitelist:["serif","monospace"]};const Ju=new no("font","ql-font",Xu);class tc extends ro{value(t){return super.value(t).replace(/["']/g,"")}}const ec=new tc("font","font-family",Xu);const nc=new no("size","ql-size",{scope:Gr.INLINE,whitelist:["small","large","huge"]});const ic=new ro("size","font-size",{scope:Gr.INLINE,whitelist:["10px","18px","32px"]});const sc=Zl("quill:keyboard");const rc=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class oc extends uu{static match(t,e){if(["altKey","ctrlKey","metaKey","shiftKey"].some((n=>!!e[n]!==t[n]&&e[n]!==null))){return false}return e.key===t.key||e.key===t.which}constructor(t,e){super(t,e);this.bindings={};Object.keys(this.options.bindings).forEach((t=>{if(this.options.bindings[t]){this.addBinding(this.options.bindings[t])}}));this.addBinding({key:"Enter",shiftKey:null},this.handleEnter);this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{}));if(/Firefox/i.test(navigator.userAgent)){this.addBinding({key:"Backspace"},{collapsed:true},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true},this.handleDelete)}else{this.addBinding({key:"Backspace"},{collapsed:true,prefix:/^.?$/},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true,suffix:/^.?$/},this.handleDelete)}this.addBinding({key:"Backspace"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Delete"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},this.handleBackspace);this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const i=fc(t);if(i==null){sc.warn("Attempted to add invalid keyboard binding",i);return}if(typeof e==="function"){e={handler:e}}if(typeof n==="function"){n={handler:n}}const s=Array.isArray(i.key)?i.key:[i.key];s.forEach((t=>{const s={...i,key:t,...e,...n};this.bindings[s.key]=this.bindings[s.key]||[];this.bindings[s.key].push(s)}))}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented||t.isComposing)return;const e=t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace");if(e)return;const n=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]);const i=n.filter((e=>oc.match(t,e)));if(i.length===0)return;const s=ju.find(t.target,true);if(s&&s.scroll!==this.quill.scroll)return;const r=this.quill.getSelection();if(r==null||!this.quill.hasFocus())return;const[o,l]=this.quill.getLine(r.index);const[u,c]=this.quill.getLeaf(r.index);const[a,h]=r.length===0?[u,c]:this.quill.getLeaf(r.index+r.length);const f=u instanceof Ro?u.value().slice(0,c):"";const d=a instanceof Ro?a.value().slice(h):"";const v={collapsed:r.length===0,empty:r.length===0&&o.length()<=1,format:this.quill.getFormat(r),line:o,offset:l,prefix:f,suffix:d,event:t};const b=i.some((t=>{if(t.collapsed!=null&&t.collapsed!==v.collapsed){return false}if(t.empty!=null&&t.empty!==v.empty){return false}if(t.offset!=null&&t.offset!==v.offset){return false}if(Array.isArray(t.format)){if(t.format.every((t=>v.format[t]==null))){return false}}else if(typeof t.format==="object"){if(!Object.keys(t.format).every((e=>{if(t.format[e]===true)return v.format[e]!=null;if(t.format[e]===false)return v.format[e]==null;return Kr(t.format[e],v.format[e])}))){return false}}if(t.prefix!=null&&!t.prefix.test(v.prefix)){return false}if(t.suffix!=null&&!t.suffix.test(v.suffix)){return false}return t.handler.call(this,r,v,t)!==true}));if(b){t.preventDefault()}}))}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(t.index);let r=(new El).retain(t.index-n).delete(n);if(e.offset===0){const[e]=this.quill.getLine(t.index-1);if(e){const n=e.statics.blotName==="block"&&e.length()<=1;if(!n){const e=s.formats();const n=this.quill.getFormat(t.index-1,1);i=Fo.exports.AttributeMap.diff(e,n)||{};if(Object.keys(i).length>0){const e=(new El).retain(t.index+s.length()-2).retain(1,i);r=r.compose(e)}}}}this.quill.updateContents(r,ju.sources.USER);this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let i={};const[s]=this.quill.getLine(t.index);let r=(new El).retain(t.index).delete(n);if(e.offset>=s.length()-1){const[e]=this.quill.getLine(t.index+1);if(e){const n=s.formats();const o=this.quill.getFormat(t.index,1);i=Fo.exports.AttributeMap.diff(n,o)||{};if(Object.keys(i).length>0){r=r.retain(e.length()-1).retain(1,i)}}}this.quill.updateContents(r,ju.sources.USER);this.quill.focus()}handleDeleteRange(t){dc({range:t,quill:this.quill});this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce(((t,n)=>{if(this.quill.scroll.query(n,Gr.BLOCK)&&!Array.isArray(e.format[n])){t[n]=e.format[n]}return t}),{});const i=(new El).retain(t.index).delete(t.length).insert("\n",n);this.quill.updateContents(i,ju.sources.USER);this.quill.setSelection(t.index+1,ju.sources.SILENT);this.quill.focus()}}const lc={bindings:{bold:ac("bold"),italic:ac("italic"),underline:ac("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","+1",ju.sources.USER);return false}},outdent:{key:"Tab",shiftKey:true,format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","-1",ju.sources.USER);return false}},"outdent backspace":{key:"Backspace",collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){if(e.format.indent!=null){this.quill.format("indent","-1",ju.sources.USER)}else if(e.format.list!=null){this.quill.format("list",false,ju.sources.USER)}}},"indent code-block":uc(true),"outdent code-block":uc(false),"remove tab":{key:"Tab",shiftKey:true,collapsed:true,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,ju.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return true;this.quill.history.cutoff();const n=(new El).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(n,ju.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index+1,ju.sources.SILENT);return false}},"blockquote empty enter":{key:"Enter",collapsed:true,format:["blockquote"],empty:true,handler(){this.quill.format("blockquote",false,ju.sources.USER)}},"list empty enter":{key:"Enter",collapsed:true,format:["list"],empty:true,handler(t,e){const n={list:false};if(e.format.indent){n.indent=false}this.quill.formatLine(t.index,t.length,n,ju.sources.USER)}},"checklist enter":{key:"Enter",collapsed:true,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index);const i={...e.formats(),list:"checked"};const s=(new El).retain(t.index).insert("\n",i).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,ju.sources.USER);this.quill.setSelection(t.index+1,ju.sources.SILENT);this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:true,format:["header"],suffix:/^$/,handler(t,e){const[n,i]=this.quill.getLine(t.index);const s=(new El).retain(t.index).insert("\n",e.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(s,ju.sources.USER);this.quill.setSelection(t.index+1,ju.sources.SILENT);this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:true,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:true,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,i,s,r]=e.getTable(t);const o=vc(n,i,s,r);if(o==null)return;let l=n.offset();if(o<0){const e=(new El).retain(l).insert("\n");this.quill.updateContents(e,ju.sources.USER);this.quill.setSelection(t.index+1,t.length,ju.sources.SILENT)}else if(o>0){l+=n.length();const t=(new El).retain(l).insert("\n");this.quill.updateContents(t,ju.sources.USER);this.quill.setSelection(l,ju.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:i}=e;const s=i.offset(this.quill.scroll);if(n.shiftKey){this.quill.setSelection(s-1,ju.sources.USER)}else{this.quill.setSelection(s+i.length(),ju.sources.USER)}}},"list autofill":{key:" ",shiftKey:null,collapsed:true,format:{"code-block":false,blockquote:false,table:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return true;const{length:n}=e.prefix;const[i,s]=this.quill.getLine(t.index);if(s>n)return true;let r;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(t.index," ",ju.sources.USER);this.quill.history.cutoff();const o=(new El).retain(t.index-s).delete(n+1).retain(i.length()-2-s).retain(1,{list:r});this.quill.updateContents(o,ju.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index-n,ju.sources.SILENT);return false}},"code exit":{key:"Enter",collapsed:true,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let i=2;let s=e;while(s!=null&&s.length()<=1&&s.formats()["code-block"]){s=s.prev;i-=1;if(i<=0){const i=(new El).retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,ju.sources.USER);this.quill.setSelection(t.index-1,ju.sources.SILENT);return false}}return true}},"embed left":cc("ArrowLeft",false),"embed left shift":cc("ArrowLeft",true),"embed right":cc("ArrowRight",false),"embed right shift":cc("ArrowRight",true),"table down":hc(false),"table up":hc(true)}};oc.DEFAULTS=lc;function uc(t){return{key:"Tab",shiftKey:!t,format:{"code-block":true},handler(e,n){let{event:i}=n;const s=this.quill.scroll.query("code-block");const{TAB:r}=s;if(e.length===0&&!i.shiftKey){this.quill.insertText(e.index,r,ju.sources.USER);this.quill.setSelection(e.index+r.length,ju.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:u}=e;o.forEach(((e,n)=>{if(t){e.insertAt(0,r);if(n===0){l+=r.length}else{u+=r.length}}else if(e.domNode.textContent.startsWith(r)){e.deleteAt(0,r.length);if(n===0){l-=r.length}else{u-=r.length}}}));this.quill.update(ju.sources.USER);this.quill.setSelection(l,u,ju.sources.SILENT)}}}function cc(t,e){const n=t==="ArrowLeft"?"prefix":"suffix";return{key:t,shiftKey:e,altKey:null,[n]:/^$/,handler(n){let{index:i}=n;if(t==="ArrowRight"){i+=n.length+1}const[s]=this.quill.getLeaf(i);if(!(s instanceof No))return true;if(t==="ArrowLeft"){if(e){this.quill.setSelection(n.index-1,n.length+1,ju.sources.USER)}else{this.quill.setSelection(n.index-1,ju.sources.USER)}}else if(e){this.quill.setSelection(n.index,n.length+1,ju.sources.USER)}else{this.quill.setSelection(n.index+n.length+1,ju.sources.USER)}return false}}}function ac(t){return{key:t[0],shortKey:true,handler(e,n){this.quill.format(t,!n.format[t],ju.sources.USER)}}}function hc(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:true,format:["table"],handler(e,n){const i=t?"prev":"next";const s=n.line;const r=s.parent[i];if(r!=null){if(r.statics.blotName==="table-row"){let t=r.children.head;let e=s;while(e.prev!=null){e=e.prev;t=t.next}const i=t.offset(this.quill.scroll)+Math.min(n.offset,t.length()-1);this.quill.setSelection(i,0,ju.sources.USER)}}else{const e=s.table()[i];if(e!=null){if(t){this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,ju.sources.USER)}else{this.quill.setSelection(e.offset(this.quill.scroll),0,ju.sources.USER)}}}return false}}}function fc(t){if(typeof t==="string"||typeof t==="number"){t={key:t}}else if(typeof t==="object"){t=Ys(t)}else{return null}if(t.shortKey){t[rc]=t.shortKey;delete t.shortKey}return t}function dc(t){let{quill:e,range:n}=t;const i=e.getLines(n);let s={};if(i.length>1){const t=i[0].formats();const e=i[i.length-1].formats();s=Fo.exports.AttributeMap.diff(e,t)||{}}e.deleteText(n,ju.sources.USER);if(Object.keys(s).length>0){e.formatLine(n.index,1,s,ju.sources.USER)}e.setSelection(n.index,ju.sources.SILENT)}function vc(t,e,n,i){if(e.prev==null&&e.next==null){if(n.prev==null&&n.next==null){return i===0?-1:1}return n.prev==null?-1:1}if(e.prev==null){return-1}if(e.next==null){return 1}return null}const bc=/font-weight:\s*normal/;const pc=["P","OL","UL"];const yc=t=>t&&pc.includes(t.tagName);const mc=t=>{Array.from(t.querySelectorAll("br")).filter((t=>yc(t.previousElementSibling)&&yc(t.nextElementSibling))).forEach((t=>{t.parentNode?.removeChild(t)}))};const wc=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((t=>t.getAttribute("style")?.match(bc))).forEach((e=>{const n=t.createDocumentFragment();n.append(...e.childNodes);e.parentNode?.replaceChild(n,e)}))};function gc(t){if(t.querySelector('[id^="docs-internal-guid-"]')){wc(t);mc(t)}}const xc=/\bmso-list:[^;]*ignore/i;const kc=/\bmso-list:[^;]*\bl(\d+)/i;const jc=/\bmso-list:[^;]*\blevel(\d+)/i;const Ac=(t,e)=>{const n=t.getAttribute("style");const i=n?.match(kc);if(!i){return null}const s=Number(i[1]);const r=n?.match(jc);const o=r?Number(r[1]):1;const l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i");const u=e.match(l);const c=u&&u[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:c,element:t}};const qc=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]"));const n=[];const i=[];e.forEach((t=>{const e=(t.getAttribute("style")||"").match(xc);if(e){n.push(t)}else{i.push(t)}}));n.forEach((t=>t.parentNode?.removeChild(t)));const s=t.documentElement.innerHTML;const r=i.map((t=>Ac(t,s))).filter((t=>t));while(r.length){const t=[];let e=r.shift();while(e){t.push(e);e=r.length&&r[0]?.element===e.element.nextElementSibling&&r[0].id===e.id?r.shift():null}const n=document.createElement("ul");t.forEach((t=>{const e=document.createElement("li");e.setAttribute("data-list",t.type);if(t.indent>1){e.setAttribute("class",`ql-indent-${t.indent-1}`)}e.innerHTML=t.element.innerHTML;n.appendChild(e)}));const i=t[0]?.element;const{parentNode:s}=i??{};if(i){s?.replaceChild(n,i)}t.slice(1).forEach((t=>{let{element:e}=t;s?.removeChild(e)}))}};function Oc(t){if(t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"){qc(t)}}const Mc=[Oc,gc];const Ec=t=>{if(t.documentElement){Mc.forEach((e=>{e(t)}))}};const Tc=Zl("quill:clipboard");const Nc=[[Node.TEXT_NODE,Xc],[Node.TEXT_NODE,Gc],["br",Pc],[Node.ELEMENT_NODE,Gc],[Node.ELEMENT_NODE,Uc],[Node.ELEMENT_NODE,Fc],[Node.ELEMENT_NODE,Qc],["li",zc],["ol, ul",Wc],["pre",Zc],["tr",Yc],["b",Hc("bold")],["i",Hc("italic")],["strike",Hc("strike")],["style",Kc]];const $c=[Bu,Gu].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});const Lc=[Du,Pu,Fu,Yu,ec,ic].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});class _c extends uu{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e);this.quill.root.addEventListener("copy",(t=>this.onCaptureCopy(t,false)));this.quill.root.addEventListener("cut",(t=>this.onCaptureCopy(t,true)));this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this));this.matchers=[];Nc.concat(this.options.matchers??[]).forEach((t=>{let[e,n]=t;this.addMatcher(e,n)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(i[Ku.blotName]){return(new El).insert(n||"",{[Ku.blotName]:i[Ku.blotName]})}if(!e){return(new El).insert(n||"",i)}const s=this.convertHTML(e);if(Cc(s,"\n")&&(s.ops[s.ops.length-1].attributes==null||i.table)){return s.compose((new El).retain(s.length()-1).delete(1))}return s}normalizeHTML(t){Ec(t)}convertHTML(t){const e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body;const i=new WeakMap;const[s,r]=this.prepareMatching(n,i);return Vc(this.quill.scroll,n,s,r,i)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:ju.sources.API;if(typeof t==="string"){const n=this.convert({html:t,text:""});this.quill.setContents(n,e);this.quill.setSelection(0,ju.sources.SILENT)}else{const i=this.convert({html:e,text:""});this.quill.updateContents((new El).retain(t).concat(i),n);this.quill.setSelection(t+i.length(),ju.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:i,text:s}=this.onCopy(n,e);t.clipboardData?.setData("text/plain",s);t.clipboardData?.setData("text/html",i);if(e){dc({range:n,quill:this.quill})}}normalizeURIList(t){return t.split(/\r?\n/).filter((t=>t[0]!=="#")).join("\n")}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(true);if(e==null)return;const n=t.clipboardData?.getData("text/html");let i=t.clipboardData?.getData("text/plain");if(!n&&!i){const e=t.clipboardData?.getData("text/uri-list");if(e){i=this.normalizeURIList(e)}}const s=Array.from(t.clipboardData?.files||[]);if(!n&&s.length>0){this.quill.uploader.upload(e,s);return}if(n&&s.length>0){const t=(new DOMParser).parseFromString(n,"text/html");if(t.body.childElementCount===1&&t.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,s);return}}this.onPaste(e,{html:n,text:i})}onCopy(t){const e=this.quill.getText(t);const n=this.quill.getSemanticHTML(t);return{html:n,text:e}}onPaste(t,e){let{text:n,html:i}=e;const s=this.quill.getFormat(t.index);const r=this.convert({text:n,html:i},s);Tc.log("onPaste",r,{text:n,html:i});const o=(new El).retain(t.index).delete(t.length).concat(r);this.quill.updateContents(o,ju.sources.USER);this.quill.setSelection(o.length()-t.length,ju.sources.SILENT);this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[];const i=[];this.matchers.forEach((s=>{const[r,o]=s;switch(r){case Node.TEXT_NODE:i.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(t.querySelectorAll(r)).forEach((t=>{if(e.has(t)){const n=e.get(t);n?.push(o)}else{e.set(t,[o])}}));break}}));return[n,i]}}function Sc(t,e,n,i){if(!i.query(e)){return t}return t.reduce(((t,i)=>{if(!i.insert)return t;if(i.attributes&&i.attributes[e]){return t.push(i)}const s=n?{[e]:n}:{};return t.insert(i.insert,{...s,...i.attributes})}),new El)}function Cc(t,e){let n="";for(let i=t.ops.length-1;i>=0&&n.length<e.length;--i){const e=t.ops[i];if(typeof e.insert!=="string")break;n=e.insert+n}return n.slice(-1*e.length)===e}function Ic(t,e){if(!(t instanceof Element))return false;const n=e.query(t);if(n&&n.prototype instanceof No)return false;return["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function Bc(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Ic(t.previousElementSibling,e)&&!Ic(t.nextElementSibling,e)}const Rc=new WeakMap;function Dc(t){if(t==null)return false;if(!Rc.has(t)){if(t.tagName==="PRE"){Rc.set(t,true)}else{Rc.set(t,Dc(t.parentNode))}}return Rc.get(t)}function Vc(t,e,n,i,s){if(e.nodeType===e.TEXT_NODE){return i.reduce(((n,i)=>i(e,n,t)),new El)}if(e.nodeType===e.ELEMENT_NODE){return Array.from(e.childNodes||[]).reduce(((r,o)=>{let l=Vc(t,o,n,i,s);if(o.nodeType===e.ELEMENT_NODE){l=n.reduce(((e,n)=>n(o,e,t)),l);l=(s.get(o)||[]).reduce(((e,n)=>n(o,e,t)),l)}return r.concat(l)}),new El)}return new El}function Hc(t){return(e,n,i)=>Sc(n,t,true,i)}function Fc(t,e,n){const i=Qr.keys(t);const s=no.keys(t);const r=ro.keys(t);const o={};i.concat(s).concat(r).forEach((e=>{let i=n.query(e,Gr.ATTRIBUTE);if(i!=null){o[i.attrName]=i.value(t);if(o[i.attrName])return}i=$c[e];if(i!=null&&(i.attrName===e||i.keyName===e)){o[i.attrName]=i.value(t)||undefined}i=Lc[e];if(i!=null&&(i.attrName===e||i.keyName===e)){i=Lc[e];o[i.attrName]=i.value(t)||undefined}}));return Object.entries(o).reduce(((t,e)=>{let[i,s]=e;return Sc(t,i,s,n)}),e)}function Uc(t,e,n){const i=n.query(t);if(i==null)return e;if(i.prototype instanceof No){const e={};const s=i.value(t);if(s!=null){e[i.blotName]=s;return(new El).insert(e,i.formats(t,n))}}else{if(i.prototype instanceof qo&&!Cc(e,"\n")){e.insert("\n")}if("blotName"in i&&"formats"in i&&typeof i.formats==="function"){return Sc(e,i.blotName,i.formats(t,n),n)}}return e}function Pc(t,e){if(!Cc(e,"\n")){e.insert("\n")}return e}function Zc(t,e,n){const i=n.query("code-block");const s=i&&"formats"in i&&typeof i.formats==="function"?i.formats(t,n):true;return Sc(e,"code-block",s,n)}function Kc(){return new El}function zc(t,e,n){const i=n.query(t);if(i==null||i.blotName!=="list"||!Cc(e,"\n")){return e}let s=-1;let r=t.parentNode;while(r!=null){if(["OL","UL"].includes(r.tagName)){s+=1}r=r.parentNode}if(s<=0)return e;return e.reduce(((t,e)=>{if(!e.insert)return t;if(e.attributes&&typeof e.attributes.indent==="number"){return t.push(e)}return t.insert(e.insert,{indent:s,...e.attributes||{}})}),new El)}function Wc(t,e,n){const i=t;let s=i.tagName==="OL"?"ordered":"bullet";const r=i.getAttribute("data-checked");if(r){s=r==="true"?"checked":"unchecked"}return Sc(e,"list",s,n)}function Gc(t,e,n){if(!Cc(e,"\n")){if(Ic(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement)){return e.insert("\n")}if(e.length()>0&&t.nextSibling){let i=t.nextSibling;while(i!=null){if(Ic(i,n)){return e.insert("\n")}const t=n.query(i);if(t&&t.prototype instanceof Il){return e.insert("\n")}i=i.firstChild}}}return e}function Qc(t,e,n){const i={};const s=t.style||{};if(s.fontStyle==="italic"){i.italic=true}if(s.textDecoration==="underline"){i.underline=true}if(s.textDecoration==="line-through"){i.strike=true}if(s.fontWeight?.startsWith("bold")||parseInt(s.fontWeight,10)>=700){i.bold=true}e=Object.entries(i).reduce(((t,e)=>{let[i,s]=e;return Sc(t,i,s,n)}),e);if(parseFloat(s.textIndent||0)>0){return(new El).insert("\t").concat(e)}return e}function Yc(t,e,n){const i=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(i!=null){const s=Array.from(i.querySelectorAll("tr"));const r=s.indexOf(t)+1;return Sc(e,"table",r,n)}return e}function Xc(t,e,n){let i=t.data;if(t.parentElement?.tagName==="O:P"){return e.insert(i.trim())}if(!Dc(t)){if(i.trim().length===0&&i.includes("\n")&&!Bc(t,n)){return e}i=i.replace(/[^\S\u00a0]/g," ");i=i.replace(/ {2,}/g," ");if(t.previousSibling==null&&t.parentElement!=null&&Ic(t.parentElement,n)||t.previousSibling instanceof Element&&Ic(t.previousSibling,n)){i=i.replace(/^ /,"")}if(t.nextSibling==null&&t.parentElement!=null&&Ic(t.parentElement,n)||t.nextSibling instanceof Element&&Ic(t.nextSibling,n)){i=i.replace(/ $/,"")}i=i.replaceAll(""," ")}return e.insert(i)}class Jc extends uu{static DEFAULTS={delay:1e3,maxStack:100,userOnly:false};lastRecorded=0;ignoreChange=false;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e);this.quill.on(ju.events.EDITOR_CHANGE,((t,e,n,i)=>{if(t===ju.events.SELECTION_CHANGE){if(e&&i!==ju.sources.SILENT){this.currentRange=e}}else if(t===ju.events.TEXT_CHANGE){if(!this.ignoreChange){if(!this.options.userOnly||i===ju.sources.USER){this.record(e,n)}else{this.transform(e)}}this.currentRange=ia(this.currentRange,e)}}));this.quill.keyboard.addBinding({key:"z",shortKey:true},this.undo.bind(this));this.quill.keyboard.addBinding({key:["z","Z"],shortKey:true,shiftKey:true},this.redo.bind(this));if(/Win/i.test(navigator.platform)){this.quill.keyboard.addBinding({key:"y",shortKey:true},this.redo.bind(this))}this.quill.root.addEventListener("beforeinput",(t=>{if(t.inputType==="historyUndo"){this.undo();t.preventDefault()}else if(t.inputType==="historyRedo"){this.redo();t.preventDefault()}}))}change(t,e){if(this.stack[t].length===0)return;const n=this.stack[t].pop();if(!n)return;const i=this.quill.getContents();const s=n.delta.invert(i);this.stack[e].push({delta:s,range:ia(n.range,s)});this.lastRecorded=0;this.ignoreChange=true;this.quill.updateContents(n.delta,ju.sources.USER);this.ignoreChange=false;this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let n=t.invert(e);let i=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const t=this.stack.undo.pop();if(t){n=n.compose(t.delta);i=t.range}}else{this.lastRecorded=s}if(n.length()===0)return;this.stack.undo.push({delta:n,range:i});if(this.stack.undo.length>this.options.maxStack){this.stack.undo.shift()}}redo(){this.change("redo","undo")}transform(t){ta(this.stack.undo,t);ta(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range){this.quill.setSelection(t.range,ju.sources.USER)}else{const e=na(this.quill.scroll,t.delta);this.quill.setSelection(e,ju.sources.USER)}}}function ta(t,e){let n=e;for(let e=t.length-1;e>=0;e-=1){const i=t[e];t[e]={delta:n.transform(i.delta,true),range:i.range&&ia(i.range,n)};n=i.delta.transform(n);if(t[e].delta.length()===0){t.splice(e,1)}}}function ea(t,e){const n=e.ops[e.ops.length-1];if(n==null)return false;if(n.insert!=null){return typeof n.insert==="string"&&n.insert.endsWith("\n")}if(n.attributes!=null){return Object.keys(n.attributes).some((e=>t.query(e,Gr.BLOCK)!=null))}return false}function na(t,e){const n=e.reduce(((t,e)=>t+(e.delete||0)),0);let i=e.length()-n;if(ea(t,e)){i-=1}return i}function ia(t,e){if(!t)return t;const n=e.transformPosition(t.index);const i=e.transformPosition(t.index+t.length);return{index:n,length:i-n}}class sa extends uu{constructor(t,e){super(t,e);t.root.addEventListener("drop",(e=>{e.preventDefault();let n=null;if(document.caretRangeFromPoint){n=document.caretRangeFromPoint(e.clientX,e.clientY)}else if(document.caretPositionFromPoint){const t=document.caretPositionFromPoint(e.clientX,e.clientY);n=document.createRange();n.setStart(t.offsetNode,t.offset);n.setEnd(t.offsetNode,t.offset)}const i=n&&t.selection.normalizeNative(n);if(i){const n=t.selection.normalizedToRange(i);if(e.dataTransfer?.files){this.upload(n,e.dataTransfer.files)}}}))}upload(t,e){const n=[];Array.from(e).forEach((t=>{if(t&&this.options.mimetypes?.includes(t.type)){n.push(t)}}));if(n.length>0){this.options.handler.call(this,t,n)}}}sa.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image")){return}const n=e.map((t=>new Promise((e=>{const n=new FileReader;n.onload=()=>{e(n.result)};n.readAsDataURL(t)}))));Promise.all(n).then((e=>{const n=e.reduce(((t,e)=>t.insert({image:e})),(new El).retain(t.index).delete(t.length));this.quill.updateContents(n,Wl.sources.USER);this.quill.setSelection(t.index+e.length,Wl.sources.SILENT)}))}};const ra=["insertText","insertReplacementText"];class oa extends uu{constructor(t,e){super(t,e);t.root.addEventListener("beforeinput",(t=>{this.handleBeforeInput(t)}));if(!/Android/i.test(navigator.userAgent)){t.on(ju.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}}deleteRange(t){dc({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(t.length===0)return false;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t);this.quill.updateContents((new El).retain(t.index).insert(e,n),ju.sources.USER)}else{this.deleteRange(t)}this.quill.setSelection(t.index+e.length,0,ju.sources.SILENT);return true}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!ra.includes(t.inputType)){return}const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===true){return}const n=la(t);if(n==null){return}const i=this.quill.selection.normalizeNative(e);const s=i?this.quill.selection.normalizedToRange(i):null;if(s&&this.replaceText(s,n)){t.preventDefault()}}handleCompositionStart(){const t=this.quill.getSelection();if(t){this.replaceText(t)}}}function la(t){if(typeof t.data==="string"){return t.data}if(t.dataTransfer?.types.includes("text/plain")){return t.dataTransfer.getData("text/plain")}return null}const ua=/Mac/i.test(navigator.platform);const ca=100;const aa=t=>{if(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"){return true}if(ua&&t.key==="a"&&t.ctrlKey===true){return true}return false};class ha extends uu{isListening=false;selectionChangeDeadline=0;constructor(t,e){super(t,e);this.handleArrowKeys();this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:n,event:i}=e;if(!(n instanceof mo)||!n.uiNode){return true}const s=getComputedStyle(n.domNode)["direction"]==="rtl";if(s&&i.key!=="ArrowRight"||!s&&i.key!=="ArrowLeft"){return true}this.quill.setSelection(t.index-1,t.length+(i.shiftKey?1:0),ju.sources.USER);return false}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(t=>{if(!t.defaultPrevented&&aa(t)){this.ensureListeningToSelectionChange()}}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+ca;if(this.isListening)return;this.isListening=true;const t=()=>{this.isListening=false;if(Date.now()<=this.selectionChangeDeadline){this.handleSelectionChange()}};document.addEventListener("selectionchange",t,{once:true})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(e.collapsed!==true||e.startOffset!==0)return;const n=this.quill.scroll.find(e.startContainer);if(!(n instanceof mo)||!n.uiNode)return;const i=document.createRange();i.setStartAfter(n.uiNode);i.setEndAfter(n.uiNode);t.removeAllRanges();t.addRange(i)}}ju.register({"blots/block":Cl,"blots/block/embed":Il,"blots/break":Tl,"blots/container":$u,"blots/cursor":Dl,"blots/embed":au,"blots/inline":_l,"blots/scroll":Su,"blots/text":Nl,"modules/clipboard":_c,"modules/history":Jc,"modules/keyboard":oc,"modules/uploader":sa,"modules/input":oa,"modules/uiNode":ha});class fa extends no{add(t,e){let n=0;if(e==="+1"||e==="-1"){const i=this.value(t)||0;n=e==="+1"?i+1:i-1}else if(typeof e==="number"){n=e}if(n===0){this.remove(t);return true}return super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||undefined}}const da=new fa("indent","ql-indent",{scope:Gr.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class va extends Cl{static blotName="blockquote";static tagName="blockquote"}class ba extends Cl{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class pa extends $u{}pa.blotName="list-container";pa.tagName="OL";class ya extends Cl{static create(t){const e=super.create();e.setAttribute("data-list",t);return e}static formats(t){return t.getAttribute("data-list")||undefined}static register(){ju.register(pa)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span");const i=n=>{if(!t.isEnabled())return;const i=this.statics.formats(e,t);if(i==="checked"){this.format("list","unchecked");n.preventDefault()}else if(i==="unchecked"){this.format("list","checked");n.preventDefault()}};n.addEventListener("mousedown",i);n.addEventListener("touchstart",i);this.attachUI(n)}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-list",e)}else{super.format(t,e)}}}ya.blotName="list";ya.tagName="LI";pa.allowedChildren=[ya];ya.requiredContainer=pa;class ma extends _l{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return true}optimize(t){super.optimize(t);if(this.domNode.tagName!==this.statics.tagName[0]){this.replaceWith(this.statics.blotName)}}}class wa extends ma{static blotName="italic";static tagName=["EM","I"]}class ga extends _l{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);e.setAttribute("href",this.sanitize(t));e.setAttribute("rel","noopener noreferrer");e.setAttribute("target","_blank");return e}static formats(t){return t.getAttribute("href")}static sanitize(t){return xa(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){if(t!==this.statics.blotName||!e){super.format(t,e)}else{this.domNode.setAttribute("href",this.constructor.sanitize(e))}}}function xa(t,e){const n=document.createElement("a");n.href=t;const i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}class ka extends _l{static blotName="script";static tagName=["SUB","SUP"];static create(t){if(t==="super"){return document.createElement("sup")}if(t==="sub"){return document.createElement("sub")}return super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super";return undefined}}class ja extends ma{static blotName="strike";static tagName=["S","STRIKE"]}class Aa extends _l{static blotName="underline";static tagName="U"}class qa extends au{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null){throw new Error("Formula module requires KaTeX.")}const e=super.create(t);if(typeof t==="string"){window.katex.render(t,e,{throwOnError:false,errorColor:"#f00"});e.setAttribute("data-value",t)}return e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const Oa=["alt","height","width"];class Ma extends No{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("src",this.sanitize(t))}return e}static formats(t){return Oa.reduce(((e,n)=>{if(t.hasAttribute(n)){e[n]=t.getAttribute(n)}return e}),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return xa(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){if(Oa.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}}const Ea=["height","width"];class Ta extends Il{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);e.setAttribute("frameborder","0");e.setAttribute("allowfullscreen","true");e.setAttribute("src",this.sanitize(t));return e}static formats(t){return Ea.reduce(((e,n)=>{if(t.hasAttribute(n)){e[n]=t.getAttribute(n)}return e}),{})}static sanitize(t){return ga.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){if(Ea.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const Na=new no("code-token","hljs",{scope:Gr.INLINE});class $a extends _l{static formats(t,e){while(t!=null&&t!==e.domNode){if(t.classList&&t.classList.contains(Ku.className)){return super.formats(t,e)}t=t.parentNode}return undefined}constructor(t,e,n){super(t,e,n);Na.add(this.domNode,n)}format(t,e){if(t!==$a.blotName){super.format(t,e)}else if(e){Na.add(this.domNode,e)}else{Na.remove(this.domNode);this.domNode.classList.remove(this.statics.className)}}optimize(){super.optimize(...arguments);if(!Na.value(this.domNode)){this.unwrap()}}}$a.blotName="code-token";$a.className="ql-token";class La extends Ku{static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("data-language",t)}return e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-language",e)}else{super.format(t,e)}}replaceWith(t,e){this.formatAt(0,this.length(),$a.blotName,false);return super.replaceWith(t,e)}}class _a extends Zu{attach(){super.attach();this.forceNext=false;this.scroll.emitMount(this)}format(t,e){if(t===La.blotName){this.forceNext=true;this.children.forEach((n=>{n.format(t,e)}))}}formatAt(t,e,n,i){if(n===La.blotName){this.forceNext=true}super.formatAt(t,e,n,i)}highlight(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.children.head==null)return;const n=Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode));const i=`${n.map((t=>t.textContent)).join("\n")}\n`;const s=La.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const e=this.children.reduce(((t,e)=>t.concat(Bl(e,false))),new El);const n=t(i,s);e.diff(n).reduce(((t,e)=>{let{retain:n,attributes:i}=e;if(!n)return t;if(i){Object.keys(i).forEach((e=>{if([La.blotName,$a.blotName].includes(e)){this.formatAt(t,n,e,i[e])}}))}return t+n}),0)}this.cachedText=i;this.forceNext=false}}html(t,e){const[n]=this.children.find(t);const i=n?La.formats(n.domNode):"plain";return`<pre data-language="${i}">\n${Ll(this.code(t,e))}\n</pre>`}optimize(t){super.optimize(t);if(this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=La.formats(this.children.head.domNode);if(t!==this.uiNode.value){this.uiNode.value=t}}}}_a.allowedChildren=[La];La.requiredContainer=_a;La.allowedChildren=[$a,Dl,Nl,Tl];const Sa=(t,e,n)=>{if(typeof t.versionString==="string"){const i=t.versionString.split(".")[0];if(parseInt(i,10)>=11){return t.highlight(n,{language:e}).value}}return t.highlight(e,n).value};class Ca extends uu{static register(){ju.register($a,true);ju.register(La,true);ju.register(_a,true)}constructor(t,e){super(t,e);if(this.options.hljs==null){throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.")}this.languages=this.options.languages.reduce(((t,e)=>{let{key:n}=e;t[n]=true;return t}),{});this.highlightBlot=this.highlightBlot.bind(this);this.initListener();this.initTimer()}initListener(){this.quill.on(ju.events.SCROLL_BLOT_MOUNT,(t=>{if(!(t instanceof _a))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((t=>{let{key:n,label:i}=t;const s=e.ownerDocument.createElement("option");s.textContent=i;s.setAttribute("value",n);e.appendChild(s)}));e.addEventListener("change",(()=>{t.format(La.blotName,e.value);this.quill.root.focus();this.highlight(t,true)}));if(t.uiNode==null){t.attachUI(e);if(t.children.head){e.value=La.formats(t.children.head.domNode)}}}))}initTimer(){let t=null;this.quill.on(ju.events.SCROLL_OPTIMIZE,(()=>{if(t){clearTimeout(t)}t=setTimeout((()=>{this.highlight();t=null}),this.options.interval)}))}highlight(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.quill.selection.composing)return;this.quill.update(ju.sources.USER);const n=this.quill.getSelection();const i=t==null?this.quill.scroll.descendants(_a):[t];i.forEach((t=>{t.highlight(this.highlightBlot,e)}));this.quill.update(ju.sources.SILENT);if(n!=null){this.quill.setSelection(n,ju.sources.SILENT)}}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"plain";e=this.languages[e]?e:"plain";if(e==="plain"){return Ll(t).split("\n").reduce(((t,n,i)=>{if(i!==0){t.insert("\n",{[Ku.blotName]:e})}return t.insert(n)}),new El)}const n=this.quill.root.ownerDocument.createElement("div");n.classList.add(Ku.className);n.innerHTML=Sa(this.options.hljs,e,t);return Vc(this.quill.scroll,n,[(t,e)=>{const n=Na.value(t);if(n){return e.compose((new El).retain(e.length(),{[$a.blotName]:n}))}return e}],[(t,n)=>t.data.split("\n").reduce(((t,n,i)=>{if(i!==0)t.insert("\n",{[Ku.blotName]:e});return t.insert(n)}),n)],new WeakMap)}}Ca.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Ia extends Cl{static blotName="table";static tagName="TD";static create(t){const e=super.create();if(t){e.setAttribute("data-row",t)}else{e.setAttribute("data-row",Va())}return e}static formats(t){if(t.hasAttribute("data-row")){return t.getAttribute("data-row")}return undefined}cellOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}format(t,e){if(t===Ia.blotName&&e){this.domNode.setAttribute("data-row",e)}else{super.format(t,e)}}row(){return this.parent}rowOffset(){if(this.row()){return this.row().rowOffset()}return-1}table(){return this.row()&&this.row().table()}}class Ba extends $u{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats();const e=this.children.tail.formats();const n=this.next.children.head.formats();const i=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===i.table}return false}optimize(t){super.optimize(t);this.children.forEach((t=>{if(t.next==null)return;const e=t.formats();const n=t.next.formats();if(e.table!==n.table){const e=this.splitAfter(t);if(e){e.optimize()}if(this.prev){this.prev.optimize()}}}))}rowOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}table(){return this.parent&&this.parent.parent}}class Ra extends $u{static blotName="table-body";static tagName="TBODY"}class Da extends $u{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(Ba);const e=t.reduce(((t,e)=>Math.max(e.children.length,t)),0);t.forEach((t=>{new Array(e-t.children.length).fill(0).forEach((()=>{let e;if(t.children.head!=null){e=Ia.formats(t.children.head.domNode)}const n=this.scroll.create(Ia.blotName,e);t.appendChild(n);n.optimize()}))}))}cells(t){return this.rows().map((e=>e.children.at(t)))}deleteColumn(t){const[e]=this.descendant(Ra);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const n=e.children.at(t);if(n!=null){n.remove()}}))}insertColumn(t){const[e]=this.descendant(Ra);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const n=e.children.at(t);const i=Ia.formats(e.children.head.domNode);const s=this.scroll.create(Ia.blotName,i);e.insertBefore(s,n)}))}insertRow(t){const[e]=this.descendant(Ra);if(e==null||e.children.head==null)return;const n=Va();const i=this.scroll.create(Ba.blotName);e.children.head.children.forEach((()=>{const t=this.scroll.create(Ia.blotName,n);i.appendChild(t)}));const s=e.children.at(t);e.insertBefore(i,s)}rows(){const t=this.children.head;if(t==null)return[];return t.children.map((t=>t))}}Da.allowedChildren=[Ra];Ra.requiredContainer=Da;Ra.allowedChildren=[Ba];Ba.requiredContainer=Ra;Ba.allowedChildren=[Ia];Ia.requiredContainer=Ba;function Va(){const t=Math.random().toString(36).slice(2,6);return`row-${t}`}class Ha extends uu{static register(){ju.register(Ia);ju.register(Ba);ju.register(Ra);ju.register(Da)}constructor(){super(...arguments);this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Da).forEach((t=>{t.balanceCells()}))}deleteColumn(){const[t,,e]=this.getTable();if(e==null)return;t.deleteColumn(e.cellOffset());this.quill.update(ju.sources.USER)}deleteRow(){const[,t]=this.getTable();if(t==null)return;t.remove();this.quill.update(ju.sources.USER)}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove();this.quill.update(ju.sources.USER);this.quill.setSelection(e,ju.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Ia.blotName){return[null,null,null,-1]}const i=e.parent;const s=i.parent.parent;return[s,i,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,i,s]=this.getTable(e);if(s==null)return;const r=s.cellOffset();n.insertColumn(r+t);this.quill.update(ju.sources.USER);let o=i.rowOffset();if(t===0){o+=1}this.quill.setSelection(e.index+o,e.length,ju.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,i,s]=this.getTable(e);if(s==null)return;const r=i.rowOffset();n.insertRow(r+t);this.quill.update(ju.sources.USER);if(t>0){this.quill.setSelection(e,ju.sources.SILENT)}else{this.quill.setSelection(e.index+i.children.length,e.length,ju.sources.SILENT)}}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const i=new Array(t).fill(0).reduce((t=>{const n=new Array(e).fill("\n").join("");return t.insert(n,{table:Va()})}),(new El).retain(n.index));this.quill.updateContents(i,ju.sources.USER);this.quill.setSelection(n.index,ju.sources.SILENT);this.balanceTables()}listenBalanceCells(){this.quill.on(ju.events.SCROLL_OPTIMIZE,(t=>{t.some((t=>{if(["TD","TR","TBODY","TABLE"].includes(t.target.tagName)){this.quill.once(ju.events.TEXT_CHANGE,((t,e,n)=>{if(n!==ju.sources.USER)return;this.balanceTables()}));return true}return false}))}))}}const Fa=Zl("quill:toolbar");class Ua extends uu{constructor(t,e){super(t,e);if(Array.isArray(this.options.container)){const e=document.createElement("div");e.setAttribute("role","toolbar");Za(e,this.options.container);t.container?.parentNode?.insertBefore(e,t.container);this.container=e}else if(typeof this.options.container==="string"){this.container=document.querySelector(this.options.container)}else{this.container=this.options.container}if(!(this.container instanceof HTMLElement)){Fa.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar");this.controls=[];this.handlers={};if(this.options.handlers){Object.keys(this.options.handlers).forEach((t=>{const e=this.options.handlers?.[t];if(e){this.addHandler(t,e)}}))}Array.from(this.container.querySelectorAll("button, select")).forEach((t=>{this.attach(t)}));this.quill.on(ju.events.EDITOR_CHANGE,(()=>{const[t]=this.quill.selection.getRange();this.update(t)}))}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find((t=>t.indexOf("ql-")===0));if(!e)return;e=e.slice("ql-".length);if(t.tagName==="BUTTON"){t.setAttribute("type","button")}if(this.handlers[e]==null&&this.quill.scroll.query(e)==null){Fa.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,(n=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const e=t.options[t.selectedIndex];if(e.hasAttribute("selected")){i=false}else{i=e.value||false}}else{if(t.classList.contains("ql-active")){i=false}else{i=t.value||!t.hasAttribute("value")}n.preventDefault()}this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[e]!=null){this.handlers[e].call(this,i)}else if(this.quill.scroll.query(e).prototype instanceof No){i=prompt(`Enter ${e}`);if(!i)return;this.quill.updateContents((new El).retain(s.index).delete(s.length).insert({[e]:i}),ju.sources.USER)}else{this.quill.format(e,i,ju.sources.USER)}this.update(s)}));this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach((n=>{const[i,s]=n;if(s.tagName==="SELECT"){let n=null;if(t==null){n=null}else if(e[i]==null){n=s.querySelector("option[selected]")}else if(!Array.isArray(e[i])){let t=e[i];if(typeof t==="string"){t=t.replace(/"/g,'\\"')}n=s.querySelector(`option[value="${t}"]`)}if(n==null){s.value="";s.selectedIndex=-1}else{n.selected=true}}else if(t==null){s.classList.remove("ql-active");s.setAttribute("aria-pressed","false")}else if(s.hasAttribute("value")){const t=e[i];const n=t===s.getAttribute("value")||t!=null&&t.toString()===s.getAttribute("value")||t==null&&!s.getAttribute("value");s.classList.toggle("ql-active",n);s.setAttribute("aria-pressed",n.toString())}else{const t=e[i]!=null;s.classList.toggle("ql-active",t);s.setAttribute("aria-pressed",t.toString())}}))}}Ua.DEFAULTS={};function Pa(t,e,n){const i=document.createElement("button");i.setAttribute("type","button");i.classList.add(`ql-${e}`);i.setAttribute("aria-pressed","false");if(n!=null){i.value=n;i.setAttribute("aria-label",`${e}: ${n}`)}else{i.setAttribute("aria-label",e)}t.appendChild(i)}function Za(t,e){if(!Array.isArray(e[0])){e=[e]}e.forEach((e=>{const n=document.createElement("span");n.classList.add("ql-formats");e.forEach((t=>{if(typeof t==="string"){Pa(n,t)}else{const e=Object.keys(t)[0];const i=t[e];if(Array.isArray(i)){Ka(n,e,i)}else{Pa(n,e,i)}}}));t.appendChild(n)}))}function Ka(t,e,n){const i=document.createElement("select");i.classList.add(`ql-${e}`);n.forEach((t=>{const e=document.createElement("option");if(t!==false){e.setAttribute("value",String(t))}else{e.setAttribute("selected","selected")}i.appendChild(e)}));t.appendChild(i)}Ua.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t==null)return;if(t.length===0){const t=this.quill.getFormat();Object.keys(t).forEach((t=>{if(this.quill.scroll.query(t,Gr.INLINE)!=null){this.quill.format(t,false,ju.sources.USER)}}))}else{this.quill.removeFormat(t.index,t.length,ju.sources.USER)}},direction(t){const{align:e}=this.quill.getFormat();if(t==="rtl"&&e==null){this.quill.format("align","right",ju.sources.USER)}else if(!t&&e==="right"){this.quill.format("align",false,ju.sources.USER)}this.quill.format("direction",t,ju.sources.USER)},indent(t){const e=this.quill.getSelection();const n=this.quill.getFormat(e);const i=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let e=t==="+1"?1:-1;if(n.direction==="rtl")e*=-1;this.quill.format("indent",i+e,ju.sources.USER)}},link(t){if(t===true){t=prompt("Enter link URL:")}this.quill.format("link",t,ju.sources.USER)},list(t){const e=this.quill.getSelection();const n=this.quill.getFormat(e);if(t==="check"){if(n.list==="checked"||n.list==="unchecked"){this.quill.format("list",false,ju.sources.USER)}else{this.quill.format("list","unchecked",ju.sources.USER)}}else{this.quill.format("list",t,ju.sources.USER)}}}};const za='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>';const Wa='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>';const Ga='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>';const Qa='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>';const Ya='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>';const Xa='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>';const Ja='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>';const th='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>';const eh='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';const nh='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>';const ih='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>';const sh='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>';const rh='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>';const oh='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>';const lh='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const uh='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const ch='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>';const ah='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const hh='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>';const fh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>';const dh='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>';const vh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>';const bh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>';const ph='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>';const yh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>';const mh='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>';const wh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>';const gh='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>';const xh='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>';const kh='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>';const jh='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>';const Ah='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>';const qh='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>';const Oh={align:{"":za,center:Wa,right:Ga,justify:Qa},background:Ya,blockquote:Xa,bold:Ja,clean:th,code:eh,"code-block":eh,color:nh,direction:{"":ih,rtl:sh},formula:rh,header:{1:oh,2:lh,3:uh,4:ch,5:ah,6:hh},italic:fh,image:dh,indent:{"+1":vh,"-1":bh},link:ph,list:{bullet:yh,check:mh,ordered:wh},script:{sub:gh,super:xh},strike:kh,table:jh,underline:Ah,video:qh};const Mh='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Eh=0;function Th(t,e){t.setAttribute(e,`${!(t.getAttribute(e)==="true")}`)}class Nh{constructor(t){this.select=t;this.container=document.createElement("span");this.buildPicker();this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);this.label.addEventListener("mousedown",(()=>{this.togglePicker()}));this.label.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape();t.preventDefault();break}}));this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded");Th(this.label,"aria-expanded");Th(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0";e.setAttribute("role","button");e.classList.add("ql-picker-item");const n=t.getAttribute("value");if(n){e.setAttribute("data-value",n)}if(t.textContent){e.setAttribute("data-label",t.textContent)}e.addEventListener("click",(()=>{this.selectItem(e,true)}));e.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.selectItem(e,true);t.preventDefault();break;case"Escape":this.escape();t.preventDefault();break}}));return e}buildLabel(){const t=document.createElement("span");t.classList.add("ql-picker-label");t.innerHTML=Mh;t.tabIndex="0";t.setAttribute("role","button");t.setAttribute("aria-expanded","false");this.container.appendChild(t);return t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options");t.setAttribute("aria-hidden","true");t.tabIndex="-1";t.id=`ql-picker-options-${Eh}`;Eh+=1;this.label.setAttribute("aria-controls",t.id);this.options=t;Array.from(this.select.options).forEach((e=>{const n=this.buildItem(e);t.appendChild(n);if(e.selected===true){this.selectItem(n)}}));this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach((t=>{this.container.setAttribute(t.name,t.value)}));this.container.classList.add("ql-picker");this.label=this.buildLabel();this.buildOptions()}escape(){this.close();setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded");this.label.setAttribute("aria-expanded","false");this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=this.container.querySelector(".ql-selected");if(t===n)return;if(n!=null){n.classList.remove("ql-selected")}if(t==null)return;t.classList.add("ql-selected");this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t);if(t.hasAttribute("data-value")){this.label.setAttribute("data-value",t.getAttribute("data-value"))}else{this.label.removeAttribute("data-value")}if(t.hasAttribute("data-label")){this.label.setAttribute("data-label",t.getAttribute("data-label"))}else{this.label.removeAttribute("data-label")}if(e){this.select.dispatchEvent(new Event("change"));this.close()}}update(){let t;if(this.select.selectedIndex>-1){const e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex];this.selectItem(e)}else{this.selectItem(null)}const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class $h extends Nh{constructor(t,e){super(t);this.label.innerHTML=e;this.container.classList.add("ql-color-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((t=>{t.classList.add("ql-primary")}))}buildItem(t){const e=super.buildItem(t);e.style.backgroundColor=t.getAttribute("value")||"";return e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label");const i=t?t.getAttribute("data-value")||"":"";if(n){if(n.tagName==="line"){n.style.stroke=i}else{n.style.fill=i}}}}class Lh extends Nh{constructor(t,e){super(t);this.container.classList.add("ql-icon-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((t=>{t.innerHTML=e[t.getAttribute("data-value")||""]}));this.defaultItem=this.container.querySelector(".ql-selected");this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const _h=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class Sh{constructor(t,e){this.quill=t;this.boundsContainer=e||document.body;this.root=t.addContainer("ql-tooltip");this.root.innerHTML=this.constructor.TEMPLATE;if(_h(this.quill.root)){this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}))}this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2;const n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`;this.root.style.top=`${n}px`;this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect();const s=this.root.getBoundingClientRect();let r=0;if(s.right>i.right){r=i.right-s.right;this.root.style.left=`${e+r}px`}if(s.left<i.left){r=i.left-s.left;this.root.style.left=`${e+r}px`}if(s.bottom>i.bottom){const e=s.bottom-s.top;const i=t.bottom-t.top+e;this.root.style.top=`${n-i}px`;this.root.classList.add("ql-flip")}return r}show(){this.root.classList.remove("ql-editing");this.root.classList.remove("ql-hidden")}}const Ch=[false,"center","right","justify"];const Ih=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];const Bh=[false,"serif","monospace"];const Rh=["1","2","3",false];const Dh=["small",false,"large","huge"];class Vh extends fu{constructor(t,e){super(t,e);const n=e=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}if(this.tooltip!=null&&!this.tooltip.root.contains(e.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()){this.tooltip.hide()}if(this.pickers!=null){this.pickers.forEach((t=>{if(!t.container.contains(e.target)){t.close()}}))}};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);if(t==="toolbar"){this.extendToolbar(e)}return e}buildButtons(t,e){Array.from(t).forEach((t=>{const n=t.getAttribute("class")||"";n.split(/\s+/).forEach((n=>{if(!n.startsWith("ql-"))return;n=n.slice("ql-".length);if(e[n]==null)return;if(n==="direction"){t.innerHTML=e[n][""]+e[n].rtl}else if(typeof e[n]==="string"){t.innerHTML=e[n]}else{const i=t.value||"";if(i!=null&&e[n][i]){t.innerHTML=e[n][i]}}}))}))}buildPickers(t,e){this.pickers=Array.from(t).map((t=>{if(t.classList.contains("ql-align")){if(t.querySelector("option")==null){Uh(t,Ch)}if(typeof e.align==="object"){return new Lh(t,e.align)}}if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){const n=t.classList.contains("ql-background")?"background":"color";if(t.querySelector("option")==null){Uh(t,Ih,n==="background"?"#ffffff":"#000000")}return new $h(t,e[n])}if(t.querySelector("option")==null){if(t.classList.contains("ql-font")){Uh(t,Bh)}else if(t.classList.contains("ql-header")){Uh(t,Rh)}else if(t.classList.contains("ql-size")){Uh(t,Dh)}}return new Nh(t)}));const n=()=>{this.pickers.forEach((t=>{t.update()}))};this.quill.on(Wl.events.EDITOR_CHANGE,n)}}Vh.DEFAULTS=Wr({},fu.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");if(t==null){t=document.createElement("input");t.setAttribute("type","file");t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", "));t.classList.add("ql-image");t.addEventListener("change",(()=>{const e=this.quill.getSelection(true);this.quill.uploader.upload(e,t.files);t.value=""}));this.container.appendChild(t)}t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Hh extends Sh{constructor(t,e){super(t,e);this.textbox=this.root.querySelector('input[type="text"]');this.listen()}listen(){this.textbox.addEventListener("keydown",(t=>{if(t.key==="Enter"){this.save();t.preventDefault()}else if(t.key==="Escape"){this.cancel();t.preventDefault()}}))}cancel(){this.hide();this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"link";let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.root.classList.remove("ql-hidden");this.root.classList.add("ql-editing");if(this.textbox==null)return;if(e!=null){this.textbox.value=e}else if(t!==this.root.getAttribute("data-mode")){this.textbox.value=""}const n=this.quill.getBounds(this.quill.selection.savedRange);if(n!=null){this.position(n)}this.textbox.select();this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||"");this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:true})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;if(this.linkRange){this.quill.formatText(this.linkRange,"link",t,Wl.sources.USER);delete this.linkRange}else{this.restoreFocus();this.quill.format("link",t,Wl.sources.USER)}this.quill.root.scrollTop=e;break}case"video":{t=Fh(t)}case"formula":{if(!t)break;const e=this.quill.getSelection(true);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Wl.sources.USER);if(this.root.getAttribute("data-mode")==="formula"){this.quill.insertText(n+1," ",Wl.sources.USER)}this.quill.setSelection(n+2,Wl.sources.USER)}break}}this.textbox.value="";this.hide()}}function Fh(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){return`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`}if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)){return`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`}return t}function Uh(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.forEach((e=>{const i=document.createElement("option");if(e===n){i.setAttribute("selected","selected")}else{i.setAttribute("value",String(e))}t.appendChild(i)}))}const Ph=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Zh extends Hh{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e);this.quill.on(Wl.events.EDITOR_CHANGE,((t,e,n,i)=>{if(t!==Wl.events.SELECTION_CHANGE)return;if(e!=null&&e.length>0&&i===Wl.sources.USER){this.show();this.root.style.left="0px";this.root.style.width="";this.root.style.width=`${this.root.offsetWidth}px`;const t=this.quill.getLines(e.index,e.length);if(t.length===1){const t=this.quill.getBounds(e);if(t!=null){this.position(t)}}else{const n=t[t.length-1];const i=this.quill.getIndex(n);const s=Math.min(n.length()-1,e.index+e.length-i);const r=this.quill.getBounds(new Ql(i,s));if(r!=null){this.position(r)}}}else if(document.activeElement!==this.textbox&&this.quill.hasFocus()){this.hide()}}))}listen(){super.listen();this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")}));this.quill.on(Wl.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);if(e!=null){this.position(e)}}}),1)}))}cancel(){this.show()}position(t){const e=super.position(t);const n=this.root.querySelector(".ql-tooltip-arrow");n.style.marginLeft="";if(e!==0){n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`}return e}}class Kh extends Vh{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=Ph}super(t,e);this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Zh(this.quill,this.options.bounds);if(t.container!=null){this.tooltip.root.appendChild(t.container);this.buildButtons(t.container.querySelectorAll("button"),Oh);this.buildPickers(t.container.querySelectorAll("select"),Oh)}}}Kh.DEFAULTS=Wr({},Vh.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(!t){this.quill.format("link",false,ju.sources.USER)}else{this.quill.theme.tooltip.edit()}}}}}});const zh=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Wh extends Hh{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen();this.root.querySelector("a.ql-action").addEventListener("click",(t=>{if(this.root.classList.contains("ql-editing")){this.save()}else{this.edit("link",this.preview.textContent)}t.preventDefault()}));this.root.querySelector("a.ql-remove").addEventListener("click",(t=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus();this.quill.formatText(t,"link",false,Wl.sources.USER);delete this.linkRange}t.preventDefault();this.hide()}));this.quill.on(Wl.events.SELECTION_CHANGE,((t,e,n)=>{if(t==null)return;if(t.length===0&&n===Wl.sources.USER){const[e,n]=this.quill.scroll.descendant(ga,t.index);if(e!=null){this.linkRange=new Ql(t.index-n,e.length());const i=ga.formats(e.domNode);this.preview.textContent=i;this.preview.setAttribute("href",i);this.show();const s=this.quill.getBounds(this.linkRange);if(s!=null){this.position(s)}return}}else{delete this.linkRange}this.hide()}))}show(){super.show();this.root.removeAttribute("data-mode")}}class Gh extends Vh{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=zh}super(t,e);this.quill.container.classList.add("ql-snow")}extendToolbar(t){if(t.container!=null){t.container.classList.add("ql-snow");this.buildButtons(t.container.querySelectorAll("button"),Oh);this.buildPickers(t.container.querySelectorAll("select"),Oh);this.tooltip=new Wh(this.quill,this.options.bounds);if(t.container.querySelector(".ql-link")){this.quill.keyboard.addBinding({key:"k",shortKey:true},((e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}}}Gh.DEFAULTS=Wr({},Vh.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);if(/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0){e=`mailto:${e}`}const{tooltip:n}=this.quill.theme;n.edit("link",e)}else{this.quill.format("link",false,ju.sources.USER)}}}}}});ju.register({"attributors/attribute/direction":Gu,"attributors/class/align":Ru,"attributors/class/background":Uu,"attributors/class/color":Hu,"attributors/class/direction":Qu,"attributors/class/font":Ju,"attributors/class/size":nc,"attributors/style/align":Du,"attributors/style/background":Pu,"attributors/style/color":Fu,"attributors/style/direction":Yu,"attributors/style/font":ec,"attributors/style/size":ic},true);ju.register({"formats/align":Ru,"formats/direction":Qu,"formats/indent":da,"formats/background":Pu,"formats/color":Fu,"formats/font":Ju,"formats/size":nc,"formats/blockquote":va,"formats/code-block":Ku,"formats/header":ba,"formats/list":ya,"formats/bold":ma,"formats/code":zu,"formats/italic":wa,"formats/link":ga,"formats/script":ka,"formats/strike":ja,"formats/underline":Aa,"formats/formula":qa,"formats/image":Ma,"formats/video":Ta,"modules/syntax":Ca,"modules/table":Ha,"modules/toolbar":Ua,"themes/bubble":Kh,"themes/snow":Gh,"ui/icons":Oh,"ui/picker":Nh,"ui/icon-picker":Lh,"ui/color-picker":$h,"ui/tooltip":Sh},true);const Qh=async()=>{window["Quill"]=ju};const Yh=Qh;export{Yh as g};
//# sourceMappingURL=p-e80eb2cf.js.map